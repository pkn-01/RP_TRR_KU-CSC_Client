[{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\analytics\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\assigned-tasks\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'react-hooks/static-components').","line":329,"column":3,"severity":1,"nodeType":null,"fix":{"range":[11200,11257],"text":" "}},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nC:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx:337:12\n  335 |         {/* Icon */}\n  336 |         <div className={`p-3 rounded-lg ${getActionColor(log.action)}`}>\n> 337 |           <Icon size={20} />\n      |            ^^^^ This component is created during render\n  338 |         </div>\n  339 |\n  340 |         {/* Content */}\n\nC:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx:330:16\n  328 | function LogEntry({ log }: { log: AuditLog }) {\n  329 |   // eslint-disable-next-line react-hooks/static-components\n> 330 |   const Icon = getActionIcon(log.action);\n      |                ^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  331 |\n  332 |   return (\n  333 |     <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 hover:shadow-lg transition-all p-6\">","line":337,"column":12,"nodeType":null,"endLine":337,"endColumn":16}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport {\r\n  FileSearch,\r\n  Search,\r\n  Filter,\r\n  Download,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n  Edit,\r\n  Trash2,\r\n  UserPlus,\r\n  LogIn,\r\n  LogOut,\r\n  Settings,\r\n  Calendar,\r\n  Shield,\r\n} from \"lucide-react\";\r\n\r\n// Types\r\ninterface AuditLog {\r\n  id: string;\r\n  userId: number;\r\n  userName: string;\r\n  userEmail: string;\r\n  action: ActionType;\r\n  module: ModuleType;\r\n  description: string;\r\n  ipAddress: string;\r\n  timestamp: Date;\r\n  status: \"SUCCESS\" | \"FAILED\" | \"WARNING\";\r\n}\r\n\r\ntype ActionType =\r\n  | \"CREATE\"\r\n  | \"UPDATE\"\r\n  | \"DELETE\"\r\n  | \"LOGIN\"\r\n  | \"LOGOUT\"\r\n  | \"VIEW\"\r\n  | \"EXPORT\";\r\ntype ModuleType = \"REPAIR\" | \"LOAN\" | \"USER\" | \"SETTINGS\" | \"SYSTEM\";\r\n\r\n// Mock data α╕¬α╕│α╕½α╕úα╕▒α╕Ü demo\r\nconst generateMockLogs = (): AuditLog[] => {\r\n  const actions: ActionType[] = [\r\n    \"CREATE\",\r\n    \"UPDATE\",\r\n    \"DELETE\",\r\n    \"LOGIN\",\r\n    \"LOGOUT\",\r\n    \"VIEW\",\r\n    \"EXPORT\",\r\n  ];\r\n  const modules: ModuleType[] = [\r\n    \"REPAIR\",\r\n    \"LOAN\",\r\n    \"USER\",\r\n    \"SETTINGS\",\r\n    \"SYSTEM\",\r\n  ];\r\n  const users = [\r\n    { id: 1, name: \"Admin User\", email: \"admin@example.com\" },\r\n    { id: 2, name: \"IT Support\", email: \"it@example.com\" },\r\n    { id: 3, name: \"John Doe\", email: \"john@example.com\" },\r\n  ];\r\n\r\n  const logs: AuditLog[] = [];\r\n  const now = new Date();\r\n\r\n  for (let i = 0; i < 50; i++) {\r\n    const user = users[Math.floor(Math.random() * users.length)];\r\n    const action = actions[Math.floor(Math.random() * actions.length)];\r\n    const auditModule = modules[Math.floor(Math.random() * modules.length)];\r\n    const hoursAgo = Math.floor(Math.random() * 48);\r\n\r\n    logs.push({\r\n      id: `log-${i + 1}`,\r\n      userId: user.id,\r\n      userName: user.name,\r\n      userEmail: user.email,\r\n      action,\r\n      module: auditModule,\r\n      description: getDescription(action, auditModule),\r\n      ipAddress: `192.168.1.${Math.floor(Math.random() * 255)}`,\r\n      timestamp: new Date(now.getTime() - hoursAgo * 60 * 60 * 1000),\r\n      status:\r\n        Math.random() > 0.9\r\n          ? \"FAILED\"\r\n          : Math.random() > 0.95\r\n            ? \"WARNING\"\r\n            : \"SUCCESS\",\r\n    });\r\n  }\r\n\r\n  return logs.sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());\r\n};\r\n\r\nconst getDescription = (action: ActionType, module: ModuleType): string => {\r\n  const descriptions: Record<string, string> = {\r\n    \"CREATE-REPAIR\": \"α╕¬α╕úα╣ëα╕▓α╕çα╕úα╕▓α╕óα╕üα╕▓α╕úα╕ïα╣êα╕¡α╕íα╣âα╕½α╕íα╣ê\",\r\n    \"UPDATE-REPAIR\": \"α╕¡α╕▒α╕₧α╣Çα╕öα╕òα╕¬α╕ûα╕▓α╕Öα╕░α╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕í\",\r\n    \"DELETE-REPAIR\": \"α╕Ñα╕Üα╕úα╕▓α╕óα╕üα╕▓α╕úα╕ïα╣êα╕¡α╕í\",\r\n    \"CREATE-LOAN\": \"α╕¬α╕úα╣ëα╕▓α╕çα╕úα╕▓α╕óα╕üα╕▓α╕úα╕óα╕╖α╕íα╣âα╕½α╕íα╣ê\",\r\n    \"UPDATE-LOAN\": \"α╕¡α╕▒α╕₧α╣Çα╕öα╕òα╕¬α╕ûα╕▓α╕Öα╕░α╕üα╕▓α╕úα╕óα╕╖α╕í\",\r\n    \"DELETE-LOAN\": \"α╕Ñα╕Üα╕úα╕▓α╕óα╕üα╕▓α╕úα╕óα╕╖α╕í\",\r\n    \"CREATE-USER\": \"α╕¬α╕úα╣ëα╕▓α╕çα╕£α╕╣α╣ëα╣âα╕èα╣ëα╣âα╕½α╕íα╣ê\",\r\n    \"UPDATE-USER\": \"α╣üα╕üα╣ëα╣äα╕éα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣âα╕èα╣ë\",\r\n    \"DELETE-USER\": \"α╕Ñα╕Üα╕Üα╕▒α╕ìα╕èα╕╡α╕£α╕╣α╣ëα╣âα╕èα╣ë\",\r\n    \"LOGIN-SYSTEM\": \"α╣Çα╕éα╣ëα╕▓α╕¬α╕╣α╣êα╕úα╕░α╕Üα╕Ü\",\r\n    \"LOGOUT-SYSTEM\": \"α╕¡α╕¡α╕üα╕êα╕▓α╕üα╕úα╕░α╕Üα╕Ü\",\r\n    \"UPDATE-SETTINGS\": \"α╣üα╕üα╣ëα╣äα╕éα╕üα╕▓α╕úα╕òα╕▒α╣ëα╕çα╕äα╣êα╕▓α╕úα╕░α╕Üα╕Ü\",\r\n    \"VIEW-REPAIR\": \"α╕öα╕╣α╕úα╕▓α╕óα╕Ñα╕░α╣Çα╕¡α╕╡α╕óα╕öα╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕í\",\r\n    \"EXPORT-REPAIR\": \"Export α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕í\",\r\n  };\r\n\r\n  return descriptions[`${action}-${module}`] || `${action} on ${module}`;\r\n};\r\n\r\nexport default function AuditLogsPage() {\r\n  const [logs] = useState<AuditLog[]>(generateMockLogs());\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterAction, setFilterAction] = useState<ActionType | \"ALL\">(\"ALL\");\r\n  const [filterModule, setFilterModule] = useState<ModuleType | \"ALL\">(\"ALL\");\r\n  const [filterStatus, setFilterStatus] = useState<\r\n    \"ALL\" | \"SUCCESS\" | \"FAILED\" | \"WARNING\"\r\n  >(\"ALL\");\r\n\r\n  // Filtered logs\r\n  const filteredLogs = useMemo(() => {\r\n    return logs.filter((log) => {\r\n      const matchesSearch =\r\n        searchTerm === \"\" ||\r\n        log.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.userEmail.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.ipAddress.includes(searchTerm);\r\n\r\n      const matchesAction =\r\n        filterAction === \"ALL\" || log.action === filterAction;\r\n      const matchesModule =\r\n        filterModule === \"ALL\" || log.module === filterModule;\r\n      const matchesStatus =\r\n        filterStatus === \"ALL\" || log.status === filterStatus;\r\n\r\n      return matchesSearch && matchesAction && matchesModule && matchesStatus;\r\n    });\r\n  }, [logs, searchTerm, filterAction, filterModule, filterStatus]);\r\n\r\n  const handleExport = () => {\r\n    // Mock export function\r\n    alert(\"Export functionality - α╕êα╕░ export α╕éα╣ëα╕¡α╕íα╕╣α╕Ñ Audit Logs α╣Çα╕¢α╣çα╕Ö CSV\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-zinc-200 sticky top-0 z-10\">\r\n        <div className=\"px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg\">\r\n                <FileSearch size={24} className=\"text-white\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-zinc-900\">Audit Logs</h1>\r\n                <p className=\"text-sm text-zinc-500\">\r\n                  α╕òα╕┤α╕öα╕òα╕▓α╕íα╕üα╕┤α╕êα╕üα╕úα╕úα╕íα╣üα╕Ñα╕░α╕üα╕▓α╕úα╣Çα╕¢α╕Ñα╕╡α╣êα╕óα╕Öα╣üα╕¢α╕Ñα╕çα╣âα╕Öα╕úα╕░α╕Üα╕Ü\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleExport}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n            >\r\n              <Download size={18} />\r\n              <span className=\"hidden sm:inline\">Export CSV</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"px-6 lg:px-8 py-8\">\r\n        {/* Search and Filters */}\r\n        <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-6 mb-6\">\r\n          {/* Search Bar */}\r\n          <div className=\"mb-4\">\r\n            <div className=\"relative\">\r\n              <Search\r\n                size={20}\r\n                className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"α╕äα╣ëα╕Öα╕½α╕▓α╕öα╣ëα╕ºα╕óα╕èα╕╖α╣êα╕¡α╕£α╕╣α╣ëα╣âα╕èα╣ë, α╕¡α╕╡α╣Çα╕íα╕Ñ, α╕äα╕│α╕¡α╕ÿα╕┤α╕Üα╕▓α╕ó α╕½α╕úα╕╖α╕¡ IP address...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <Filter size={16} className=\"text-zinc-500\" />\r\n            <span className=\"text-sm font-medium text-zinc-700\">Filters:</span>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\r\n            {/* Action Filter */}\r\n            <select\r\n              value={filterAction}\r\n              onChange={(e) =>\r\n                setFilterAction(e.target.value as ActionType | \"ALL\")\r\n              }\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Actions</option>\r\n              <option value=\"CREATE\">Create</option>\r\n              <option value=\"UPDATE\">Update</option>\r\n              <option value=\"DELETE\">Delete</option>\r\n              <option value=\"LOGIN\">Login</option>\r\n              <option value=\"LOGOUT\">Logout</option>\r\n              <option value=\"VIEW\">View</option>\r\n              <option value=\"EXPORT\">Export</option>\r\n            </select>\r\n\r\n            {/* Module Filter */}\r\n            <select\r\n              value={filterModule}\r\n              onChange={(e) =>\r\n                setFilterModule(e.target.value as ModuleType | \"ALL\")\r\n              }\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Modules</option>\r\n              <option value=\"REPAIR\">Repair</option>\r\n              <option value=\"LOAN\">Loan</option>\r\n              <option value=\"USER\">User</option>\r\n              <option value=\"SETTINGS\">Settings</option>\r\n              <option value=\"SYSTEM\">System</option>\r\n            </select>\r\n\r\n            {/* Status Filter */}\r\n            <select\r\n              value={filterStatus}\r\n              onChange={(e) =>\r\n                setFilterStatus(\r\n                  e.target.value as \"ALL\" | \"SUCCESS\" | \"FAILED\" | \"WARNING\",\r\n                )\r\n              }\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Status</option>\r\n              <option value=\"SUCCESS\">Success</option>\r\n              <option value=\"FAILED\">Failed</option>\r\n              <option value=\"WARNING\">Warning</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Results count */}\r\n          <div className=\"mt-4 text-sm text-zinc-600\">\r\n            α╣üα╕¬α╕öα╕ç <span className=\"font-semibold\">{filteredLogs.length}</span>{\" \"}\r\n            α╕úα╕▓α╕óα╕üα╕▓α╕ú\r\n            {searchTerm ||\r\n            filterAction !== \"ALL\" ||\r\n            filterModule !== \"ALL\" ||\r\n            filterStatus !== \"ALL\"\r\n              ? ` α╕êα╕▓α╕üα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö ${logs.length} α╕úα╕▓α╕óα╕üα╕▓α╕ú`\r\n              : \"\"}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeline */}\r\n        <div className=\"space-y-4\">\r\n          {filteredLogs.length === 0 ? (\r\n            <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-12 text-center\">\r\n              <AlertCircle size={48} className=\"text-zinc-300 mx-auto mb-4\" />\r\n              <p className=\"text-zinc-500\">α╣äα╕íα╣êα╕₧α╕Üα╕úα╕▓α╕óα╕üα╕▓α╕úα╕ùα╕╡α╣êα╕òα╕úα╕çα╕üα╕▒α╕Üα╕üα╕▓α╕úα╕äα╣ëα╕Öα╕½α╕▓</p>\r\n            </div>\r\n          ) : (\r\n            filteredLogs.map((log) => <LogEntry key={log.id} log={log} />)\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Log Entry Component\r\n// Helper functions for LogEntry\r\nconst getActionIcon = (action: ActionType) => {\r\n  const icons = {\r\n    CREATE: UserPlus,\r\n    UPDATE: Edit,\r\n    DELETE: Trash2,\r\n    LOGIN: LogIn,\r\n    LOGOUT: LogOut,\r\n    VIEW: FileSearch,\r\n    EXPORT: Download,\r\n  };\r\n  return icons[action] || Settings;\r\n};\r\n\r\nconst getActionColor = (action: ActionType) => {\r\n  const colors = {\r\n    CREATE: \"text-green-600 bg-green-50\",\r\n    UPDATE: \"text-blue-600 bg-blue-50\",\r\n    DELETE: \"text-red-600 bg-red-50\",\r\n    LOGIN: \"text-indigo-600 bg-indigo-50\",\r\n    LOGOUT: \"text-zinc-600 bg-zinc-50\",\r\n    VIEW: \"text-purple-600 bg-purple-50\",\r\n    EXPORT: \"text-orange-600 bg-orange-50\",\r\n  };\r\n  return colors[action] || \"text-zinc-600 bg-zinc-50\";\r\n};\r\n\r\nconst getStatusIcon = (status: string) => {\r\n  if (status === \"SUCCESS\")\r\n    return <CheckCircle size={16} className=\"text-green-500\" />;\r\n  if (status === \"FAILED\")\r\n    return <XCircle size={16} className=\"text-red-500\" />;\r\n  return <AlertCircle size={16} className=\"text-yellow-500\" />;\r\n};\r\n\r\nfunction LogEntry({ log }: { log: AuditLog }) {\r\n  // eslint-disable-next-line react-hooks/static-components\r\n  const Icon = getActionIcon(log.action);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 hover:shadow-lg transition-all p-6\">\r\n      <div className=\"flex items-start gap-4\">\r\n        {/* Icon */}\r\n        <div className={`p-3 rounded-lg ${getActionColor(log.action)}`}>\r\n          <Icon size={20} />\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"flex items-start justify-between gap-4 mb-2\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className=\"font-semibold text-zinc-900\">\r\n                  {log.userName}\r\n                </span>\r\n                <span className=\"text-sm text-zinc-400\">ΓÇó</span>\r\n                <span className=\"text-sm text-zinc-500\">{log.userEmail}</span>\r\n              </div>\r\n              <p className=\"text-zinc-700\">{log.description}</p>\r\n            </div>\r\n            {getStatusIcon(log.status)}\r\n          </div>\r\n\r\n          {/* Metadata */}\r\n          <div className=\"flex flex-wrap items-center gap-4 text-sm text-zinc-500\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <Calendar size={14} />\r\n              <span>{log.timestamp.toLocaleString(\"th-TH\")}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <Shield size={14} />\r\n              <span>IP: {log.ipAddress}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"px-2 py-0.5 bg-zinc-100 rounded text-xs font-medium\">\r\n                {log.module}\r\n              </span>\r\n              <span className=\"px-2 py-0.5 bg-zinc-100 rounded text-xs font-medium\">\r\n                {log.action}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\dashboard\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1999,2002],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1999,2002],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'iconColor' is defined but never used.","line":96,"column":5,"nodeType":null,"messageId":"unusedVar","endLine":96,"endColumn":14}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  BarChart3,\r\n  TrendingUp,\r\n  Clock,\r\n  CheckCircle,\r\n  AlertCircle,\r\n  Users,\r\n} from \"lucide-react\";\r\nimport {\r\n  getDashboardStats,\r\n  getMonthlyRepairData,\r\n  getRecentActivities,\r\n  getStatusDistribution,\r\n  DashboardStats,\r\n  ChartData,\r\n  RecentActivity,\r\n} from \"@/services/dashboardService\";\r\n\r\nexport default function AdminDashboard() {\r\n  const [stats, setStats] = useState<DashboardStats>({\r\n    totalRepairs: 0,\r\n    pendingRepairs: 0,\r\n    inProgressRepairs: 0,\r\n    completedRepairs: 0,\r\n    totalUsers: 0,\r\n    totalLoans: 0,\r\n    completionRate: 0,\r\n  });\r\n\r\n  const [chartData, setChartData] = useState<ChartData[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n  const [recentActivities, setRecentActivities] = useState<RecentActivity[]>(\r\n    []\r\n  );\r\n  const [statusDistribution, setStatusDistribution] = useState({\r\n    completed: 0,\r\n    inProgress: 0,\r\n    pending: 0,\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchDashboardData = async (isBackground = false) => {\r\n      try {\r\n        if (!isBackground) {\r\n          setLoading(true);\r\n          setError(null);\r\n        }\r\n\r\n        if (!isBackground) console.log(\"Fetching dashboard data...\");\r\n\r\n        const [dashboardStats, monthlyData, activities, distribution] =\r\n          await Promise.all([\r\n            getDashboardStats(),\r\n            getMonthlyRepairData(),\r\n            getRecentActivities(),\r\n            getStatusDistribution(),\r\n          ]);\r\n\r\n        if (!isBackground) {\r\n          console.log(\"Dashboard stats received:\", dashboardStats);\r\n          console.log(\"Chart data received:\", monthlyData);\r\n          console.log(\"Activities received:\", activities);\r\n        }\r\n\r\n        setStats(dashboardStats);\r\n        setChartData(monthlyData);\r\n        setRecentActivities(activities);\r\n        setStatusDistribution(distribution);\r\n      } catch (error: any) {\r\n        console.error(\"Error loading dashboard data:\", error);\r\n        if (!isBackground) setError(error?.message || \"α╣äα╕íα╣êα╕¬α╕▓α╕íα╕▓α╕úα╕ûα╣éα╕½α╕Ñα╕öα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╣üα╕öα╕èα╕Üα╕¡α╕úα╣îα╕ö\");\r\n      } finally {\r\n        if (!isBackground) setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDashboardData();\r\n\r\n    // Polling every 30 seconds for dashboard\r\n    const intervalId = setInterval(() => {\r\n      fetchDashboardData(true);\r\n    }, 30000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  const StatCard = ({\r\n    icon: Icon,\r\n    label,\r\n    value,\r\n    bgColor,\r\n    iconColor,\r\n  }: {\r\n    icon: React.ReactNode;\r\n    label: string;\r\n    value: number | string;\r\n    bgColor: string;\r\n    iconColor: string;\r\n  }) => (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <p className=\"text-gray-600 text-sm font-medium\">{label}</p>\r\n          <p className=\"text-3xl font-bold text-gray-900 mt-2\">{value}</p>\r\n        </div>\r\n        <div className={`${bgColor} p-3 rounded-lg`}>{Icon}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"animate-spin\">\r\n          <div className=\"h-12 w-12 border-4 border-blue-600 border-t-transparent rounded-full\"></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex items-center justify-center h-screen\">\r\n        <div className=\"bg-red-50 border border-red-200 text-red-700 px-6 py-4 rounded\">\r\n          <p className=\"font-semibold\">α╣Çα╕üα╕┤α╕öα╕éα╣ëα╕¡α╕£α╕┤α╕öα╕₧α╕Ñα╕▓α╕ö</p>\r\n          <p className=\"text-sm mt-2\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-gray-900\">α╣üα╕öα╕èα╕Üα╕¡α╕úα╣îα╕ö</h1>\r\n        <p className=\"text-gray-600 mt-2\">α╕óα╕┤α╕Öα╕öα╕╡α╕òα╣ëα╕¡α╕Öα╕úα╕▒α╕Üα╕¬α╕╣α╣êα╕úα╕░α╕Üα╕Üα╕êα╕▒α╕öα╕üα╕▓α╕úα╕ïα╣êα╕¡α╕íα╣üα╕ïα╕í</p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n        <StatCard\r\n          icon={<BarChart3 className=\"w-6 h-6 text-blue-600\" />}\r\n          label=\"α╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕íα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö\"\r\n          value={stats.totalRepairs}\r\n          bgColor=\"bg-blue-100\"\r\n          iconColor=\"text-blue-600\"\r\n        />\r\n        <StatCard\r\n          icon={<AlertCircle className=\"w-6 h-6 text-yellow-600\" />}\r\n          label=\"α╕üα╕▓α╕úα╕óα╕╖α╕í\"\r\n          value={stats.totalLoans}\r\n          bgColor=\"bg-yellow-100\"\r\n          iconColor=\"text-yellow-600\"\r\n        />\r\n        <StatCard\r\n          icon={<Clock className=\"w-6 h-6 text-orange-600\" />}\r\n          label=\"α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\"\r\n          value={stats.inProgressRepairs}\r\n          bgColor=\"bg-orange-100\"\r\n          iconColor=\"text-orange-600\"\r\n        />\r\n        <StatCard\r\n          icon={<CheckCircle className=\"w-6 h-6 text-green-600\" />}\r\n          label=\"α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\"\r\n          value={stats.completedRepairs}\r\n          bgColor=\"bg-green-100\"\r\n          iconColor=\"text-green-600\"\r\n        />\r\n        <StatCard\r\n          icon={<Users className=\"w-6 h-6 text-purple-600\" />}\r\n          label=\"α╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Öα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö\"\r\n          value={stats.totalUsers}\r\n          bgColor=\"bg-purple-100\"\r\n          iconColor=\"text-purple-600\"\r\n        />\r\n        <StatCard\r\n          icon={<TrendingUp className=\"w-6 h-6 text-pink-600\" />}\r\n          label=\"α╕¡α╕▒α╕òα╕úα╕▓α╕üα╕▓α╕úα╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\"\r\n          value={`${stats.completionRate}%`}\r\n          bgColor=\"bg-pink-100\"\r\n          iconColor=\"text-pink-600\"\r\n        />\r\n      </div>\r\n\r\n      {/* Charts Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n        {/* Line Chart */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-4\">\r\n            α╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕íα╕úα╕▓α╕óα╣Çα╕öα╕╖α╕¡α╕Ö\r\n          </h2>\r\n          <div className=\"h-64 flex items-end gap-2\">\r\n            {chartData.map((data, index) => {\r\n              const maxValue = Math.max(...chartData.map((d) => d.repairs));\r\n              const height = (data.repairs / maxValue) * 100;\r\n              return (\r\n                <div key={index} className=\"flex-1 flex flex-col items-center\">\r\n                  <div\r\n                    className=\"w-full bg-blue-200 rounded-t-lg relative group hover:bg-blue-400 transition-colors\"\r\n                    style={{ height: `${height}%`, minHeight: \"20px\" }}\r\n                  >\r\n                    <span className=\"absolute -top-8 left-1/2 transform -translate-x-1/2 bg-gray-800 text-white text-xs px-2 py-1 rounded opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap\">\r\n                      {data.repairs}\r\n                    </span>\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-600 mt-2\">{data.month}</p>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Status Distribution */}\r\n        <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n          <h2 className=\"text-lg font-bold text-gray-900 mb-6\">\r\n            α╕¬α╕ûα╕▓α╕Öα╕░α╕üα╕▓α╕úα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\r\n          </h2>\r\n          <div className=\"space-y-4\">\r\n            <div>\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\r\n                </span>\r\n                <span className=\"text-sm font-bold text-green-600\">\r\n                  {statusDistribution.completed}%\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                <div\r\n                  className=\"bg-green-600 h-3 rounded-full\"\r\n                  style={{ width: `${statusDistribution.completed}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\r\n                </span>\r\n                <span className=\"text-sm font-bold text-orange-600\">\r\n                  {statusDistribution.inProgress}%\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                <div\r\n                  className=\"bg-orange-600 h-3 rounded-full\"\r\n                  style={{ width: `${statusDistribution.inProgress}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n\r\n            <div>\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <span className=\"text-sm font-medium text-gray-700\">\r\n                  α╕úα╕¡α╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\r\n                </span>\r\n                <span className=\"text-sm font-bold text-yellow-600\">\r\n                  {statusDistribution.pending}%\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-gray-200 rounded-full h-3\">\r\n                <div\r\n                  className=\"bg-yellow-600 h-3 rounded-full\"\r\n                  style={{ width: `${statusDistribution.pending}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Recent Activities */}\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-lg font-bold text-gray-900 mb-4\">α╕üα╕┤α╕êα╕üα╕úα╕úα╕íα╕Ñα╣êα╕▓α╕¬α╕╕α╕ö</h2>\r\n        <div className=\"space-y-4\">\r\n          {recentActivities.length > 0 ? (\r\n            recentActivities.map((activity) => {\r\n              const isCompleted = activity.status === \"COMPLETED\";\r\n              const isInProgress = activity.status === \"IN_PROGRESS\" || activity.status === \"WAITING_PARTS\";\r\n              \r\n              let statusLabel = \"α╕úα╕¡α╕üα╕▓α╕úα╕¡α╕Öα╕╕α╕íα╕▒α╕òα╕┤\";\r\n              let statusColor = \"bg-yellow-100 text-yellow-700\";\r\n              let iconColor = \"text-yellow-600\";\r\n              let bgColor = \"bg-yellow-100\";\r\n\r\n              if (isCompleted) {\r\n                statusLabel = \"α╕¬α╕│α╣Çα╕úα╣çα╕ê\";\r\n                statusColor = \"bg-green-100 text-green-700\";\r\n                iconColor = \"text-green-600\";\r\n                bgColor = \"bg-green-100\";\r\n              } else if (isInProgress) {\r\n                statusLabel = activity.status === \"WAITING_PARTS\" ? \"α╕úα╕¡α╕¡α╕░α╣äα╕½α╕Ñα╣ê\" : \"α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\";\r\n                statusColor = \"bg-orange-100 text-orange-700\";\r\n                iconColor = \"text-orange-600\";\r\n                bgColor = \"bg-orange-100\";\r\n              } else if (activity.status === \"CANCELLED\") {\r\n                statusLabel = \"α╕óα╕üα╣Çα╕Ñα╕┤α╕ü\";\r\n                statusColor = \"bg-red-100 text-red-700\";\r\n                iconColor = \"text-red-600\";\r\n                bgColor = \"bg-red-100\";\r\n              }\r\n\r\n              return (\r\n                <div\r\n                  key={activity.id}\r\n                  className=\"flex items-center justify-between py-3 border-b border-gray-200 last:border-b-0\"\r\n                >\r\n                  <div className=\"flex items-center gap-4\">\r\n                    <div\r\n                      className={`w-10 h-10 ${bgColor} rounded-full flex items-center justify-center`}\r\n                    >\r\n                      <CheckCircle className={`w-5 h-5 ${iconColor}`} />\r\n                    </div>\r\n                    <div>\r\n                      <p className=\"text-sm font-medium text-gray-900\">\r\n                        {activity.ticketCode}: {activity.title}\r\n                      </p>\r\n                      <p className=\"text-xs text-gray-500\">\r\n                        α╣Çα╕íα╕╖α╣êα╕¡{\" \"}\r\n                        {new Date(activity.createdAt).toLocaleDateString(\r\n                          \"th-TH\"\r\n                        )}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                  <span\r\n                    className={`text-xs ${statusColor} px-3 py-1 rounded-full`}\r\n                  >\r\n                    {statusLabel}\r\n                  </span>\r\n                </div>\r\n              );\r\n            })\r\n          ) : (\r\n            <p className=\"text-sm text-gray-500 text-center py-4\">\r\n              α╣äα╕íα╣êα╕íα╕╡α╕üα╕┤α╕êα╕üα╕úα╕úα╕íα╕Ñα╣êα╕▓α╕¬α╕╕α╕ö\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\departments\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\loans\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\repairs\\[id]\\assigned\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\repairs\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":82,"column":47,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":82,"endColumn":50,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2571,2574],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2571,2574],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":88,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":88,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2725,2728],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2725,2728],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'handleFileChange' is assigned a value but never used.","line":108,"column":9,"nodeType":null,"messageId":"unusedVar","endLine":108,"endColumn":25},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":150,"column":17,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":150,"endColumn":20,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4608,4611],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4608,4611],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":254,"column":26,"nodeType":"JSXOpeningElement","endLine":254,"endColumn":107},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":364,"column":23,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":364,"endColumn":26,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12062,12065],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12062,12065],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":378,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":378,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12516,12519],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12516,12519],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":392,"column":24,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":392,"endColumn":27,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[12944,12947],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[12944,12947],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":6,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter, useParams } from \"next/navigation\";\r\nimport { apiFetch } from \"@/services/api\";\r\n\r\ninterface RepairForm {\r\n  ticketCode: string;\r\n  reporterName: string;\r\n  reporterDepartment: string;\r\n  reporterPhone: string;\r\n  problemCategory: string;\r\n  problemTitle: string;\r\n  problemDescription: string;\r\n  location: string;\r\n  urgency: \"NORMAL\" | \"URGENT\" | \"CRITICAL\";\r\n  status: \"PENDING\" | \"IN_PROGRESS\" | \"WAITING_PARTS\" | \"COMPLETED\" | \"CANCELLED\";\r\n  assigneeId: string;\r\n  createdAt: string;\r\n  notes: string;\r\n  files: File[];\r\n  fileUrls: { id: number; url: string; filename: string }[];\r\n}\r\n\r\nexport default function RepairDetailPage() {\r\n  const router = useRouter();\r\n  const params = useParams();\r\n  const repairId = params?.id as string | undefined;\r\n\r\n  const [formData, setFormData] = useState<RepairForm>({\r\n    ticketCode: \"\",\r\n    reporterName: \"\",\r\n    reporterDepartment: \"\",\r\n    reporterPhone: \"\",\r\n    problemCategory: \"HARDWARE\",\r\n    problemTitle: \"\",\r\n    problemDescription: \"\",\r\n    location: \"\",\r\n    urgency: \"NORMAL\",\r\n    status: \"PENDING\",\r\n    assigneeId: \"\",\r\n    createdAt: \"\",\r\n    notes: \"\",\r\n    files: [],\r\n    fileUrls: [],\r\n  });\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [success, setSuccess] = useState(\"\");\r\n\r\n  /* ---------------- Fetch Detail ---------------- */\r\n  useEffect(() => {\r\n    if (!repairId || repairId === \"new\") return;\r\n\r\n    const fetchDetail = async () => {\r\n      try {\r\n        setLoading(true);\r\n        // Changed endpoint to /api/repairs\r\n        const data = await apiFetch(`/api/repairs/${repairId}`);\r\n\r\n        if (!data) {\r\n          setError(\"α╣äα╕íα╣êα╕₧α╕Üα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╣âα╕Üα╕ïα╣êα╕¡α╕í\");\r\n          return;\r\n        }\r\n\r\n        setFormData({\r\n          ticketCode: data.ticketCode || \"\",\r\n          reporterName: data.reporterName || \"\",\r\n          reporterDepartment: data.reporterDepartment || \"\",\r\n          reporterPhone: data.reporterPhone || \"\",\r\n          problemCategory: data.problemCategory || \"HARDWARE\",\r\n          problemTitle: data.problemTitle || \"\",\r\n          problemDescription: data.problemDescription || \"\",\r\n          location: data.location || \"\",\r\n          urgency: data.urgency || \"NORMAL\",\r\n          status: data.status || \"PENDING\",\r\n          assigneeId: data.assignedTo ? String(data.assignedTo) : \"\",\r\n          createdAt: data.createdAt || \"\",\r\n          notes: data.notes || \"\",\r\n          files: [],\r\n          fileUrls: data.attachments?.map((f: any) => ({\r\n             id: f.id,\r\n             url: f.fileUrl,\r\n             filename: f.filename\r\n          })) || [],\r\n        });\r\n      } catch (e: any) {\r\n        setError(e.message || \"α╣éα╕½α╕Ñα╕öα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╣äα╕íα╣êα╕¬α╕│α╣Çα╕úα╣çα╕ê\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDetail();\r\n  }, [repairId]);\r\n\r\n  /* ---------------- Handlers ---------------- */\r\n  const handleChange = (\r\n    e: React.ChangeEvent<\r\n      HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement\r\n    >\r\n  ) => {\r\n    const { name, value } = e.target;\r\n    setFormData((prev) => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    setFormData((prev) => ({\r\n      ...prev,\r\n      files: e.target.files ? Array.from(e.target.files) : [],\r\n    }));\r\n  };\r\n\r\n  /* ---------------- Submit ---------------- */\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n    setSuccess(\"\");\r\n\r\n    try {\r\n      setLoading(true);\r\n\r\n      const payload = {\r\n        status: formData.status,\r\n        urgency: formData.urgency,\r\n        notes: formData.notes,\r\n        assignee: formData.assigneeId ? { id: formData.assigneeId } : null,\r\n        // Other fields might be read-only logically, but sending them if updated\r\n        problemCategory: formData.problemCategory,\r\n        problemTitle: formData.problemTitle,\r\n        problemDescription: formData.problemDescription,\r\n        location: formData.location,\r\n      };\r\n\r\n      if (repairId && repairId !== \"new\") {\r\n        await apiFetch(`/api/repairs/${repairId}`, {\r\n           method: \"PUT\",\r\n           body: payload\r\n        });\r\n        setSuccess(\"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕üα╕▓α╕úα╣üα╕üα╣ëα╣äα╕éα╣Çα╕úα╕╡α╕óα╕Üα╕úα╣ëα╕¡α╕ó\");\r\n      } else {\r\n        // Create not supported here yet or follows different flow\r\n        // For now focusing on update\r\n        setError(\"α╕üα╕▓α╕úα╕¬α╕úα╣ëα╕▓α╕çα╣âα╕Üα╕ïα╣êα╕¡α╕íα╣âα╕½α╕íα╣êα╕£α╣êα╕▓α╕Ö Admin α╕óα╕▒α╕çα╣äα╕íα╣êα╕úα╕¡α╕çα╕úα╕▒α╕Üα╣âα╕Öα╕éα╕ôα╕░α╕Öα╕╡α╣ë\");\r\n        return;\r\n      }\r\n\r\n      setTimeout(() => router.push(\"/admin/repairs\"), 1200);\r\n    } catch (e: any) {\r\n      setError(e.message || \"α╣Çα╕üα╕┤α╕öα╕éα╣ëα╕¡α╕£α╕┤α╕öα╕₧α╕Ñα╕▓α╕ö\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  /* ---------------- Loading ---------------- */\r\n  if (loading && !formData.ticketCode) {\r\n    return (\r\n      <div className=\"h-screen flex items-center justify-center text-gray-600\">\r\n        α╕üα╕│α╕Ñα╕▒α╕çα╣éα╕½α╕Ñα╕öα╕éα╣ëα╕¡α╕íα╕╣α╕Ñ...\r\n      </div>\r\n    );\r\n  }\r\n\r\n  /* ---------------- UI ---------------- */\r\n  return (\r\n    <div className=\"min-h-screen bg-white pt-20 pb-12\">\r\n      <div className=\"max-w-7xl mx-auto px-4\">\r\n        {/* Alerts */}\r\n        {error && (\r\n          <div className=\"mb-4 p-3 bg-red-50 text-red-700 rounded\">{error}</div>\r\n        )}\r\n        {success && (\r\n          <div className=\"mb-4 p-3 bg-green-50 text-green-700 rounded\">\r\n            {success}\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* α╕ïα╣ëα╕▓α╕ó */}\r\n          <div className=\"space-y-6\">\r\n            {/* α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣üα╕êα╣ëα╕ç */}\r\n            <Section title=\"α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣üα╕êα╣ëα╕ç\">\r\n              <Input\r\n                label=\"α╣Çα╕Ñα╕éα╣âα╕Üα╕çα╕▓α╕Ö\"\r\n                value={formData.ticketCode}\r\n                readOnly\r\n                className=\"bg-gray-50\"\r\n              />\r\n              <Input\r\n                label=\"α╕èα╕╖α╣êα╕¡α╕£α╕╣α╣ëα╣üα╕êα╣ëα╕ç\"\r\n                value={formData.reporterName}\r\n                readOnly\r\n                 className=\"bg-gray-50\"\r\n              />\r\n              <div className=\"grid grid-cols-2 gap-4\">\r\n                <Input\r\n                    label=\"α╣üα╕£α╕Öα╕ü\"\r\n                    value={formData.reporterDepartment}\r\n                    readOnly\r\n                     className=\"bg-gray-50\"\r\n                />\r\n                <Input\r\n                    label=\"α╣Çα╕Üα╕¡α╕úα╣îα╣éα╕ùα╕ú\"\r\n                    value={formData.reporterPhone}\r\n                    readOnly\r\n                     className=\"bg-gray-50\"\r\n                />\r\n              </div>\r\n            </Section>\r\n\r\n            {/* α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕¢α╕▒α╕ìα╕½α╕▓ */}\r\n            <Section title=\"α╕úα╕▓α╕óα╕Ñα╕░α╣Çα╕¡α╕╡α╕óα╕öα╕¢α╕▒α╕ìα╕½α╕▓\">\r\n               <Select\r\n                label=\"α╕½α╕íα╕ºα╕öα╕½α╕íα╕╣α╣êα╕¢α╕▒α╕ìα╕½α╕▓\"\r\n                name=\"problemCategory\"\r\n                value={formData.problemCategory}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"HARDWARE\">Hardware</option>\r\n                <option value=\"SOFTWARE\">Software</option>\r\n                <option value=\"NETWORK\">Network</option>\r\n                <option value=\"PERIPHERAL\">Peripheral</option>\r\n                <option value=\"EMAIL_OFFICE365\">Email/Office 365</option>\r\n                <option value=\"ACCOUNT_PASSWORD\">Account/Password</option>\r\n                <option value=\"OTHER\">α╕¡α╕╖α╣êα╕Öα╣å</option>\r\n              </Select>\r\n              <Input\r\n                label=\"α╕½α╕▒α╕ºα╕éα╣ëα╕¡α╕¢α╕▒α╕ìα╕½α╕▓\"\r\n                name=\"problemTitle\"\r\n                value={formData.problemTitle}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n              <Textarea\r\n                label=\"α╕úα╕▓α╕óα╕Ñα╕░α╣Çα╕¡α╕╡α╕óα╕ö\"\r\n                name=\"problemDescription\"\r\n                value={formData.problemDescription}\r\n                onChange={handleChange}\r\n              />\r\n              <Input\r\n                label=\"α╕¬α╕ûα╕▓α╕Öα╕ùα╕╡α╣ê\"\r\n                name=\"location\"\r\n                value={formData.location}\r\n                onChange={handleChange}\r\n              />\r\n               {formData.fileUrls.length > 0 && (\r\n                <div className=\"mt-4\">\r\n                  <label className=\"block text-sm font-semibold text-gray-900 mb-2\">α╕úα╕╣α╕¢α╕áα╕▓α╕₧α╣üα╕Öα╕Ü</label>\r\n                  <div className=\"flex gap-2 flex-wrap\">\r\n                    {formData.fileUrls.map((file) => (\r\n                      <a key={file.id} href={file.url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"block w-24 h-24 rounded border overflow-hidden hover:opacity-80\">\r\n                         <img src={file.url} alt={file.filename} className=\"w-full h-full object-cover\" />\r\n                      </a>\r\n                    ))}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </Section>\r\n          </div>\r\n\r\n          {/* α╕éα╕ºα╕▓ */}\r\n          <div className=\"space-y-6\">\r\n            {/* α╕üα╕▓α╕úα╕êα╕▒α╕öα╕üα╕▓α╕ú */}\r\n            <Section title=\"α╕üα╕▓α╕úα╕êα╕▒α╕öα╕üα╕▓α╕úα╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕í\">\r\n              <Select\r\n                label=\"α╕äα╕ºα╕▓α╕íα╣Çα╕úα╣êα╕çα╕öα╣êα╕ºα╕Ö\"\r\n                name=\"urgency\"\r\n                value={formData.urgency}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"NORMAL\">α╕¢α╕üα╕òα╕┤</option>\r\n                <option value=\"URGENT\">α╕öα╣êα╕ºα╕Ö</option>\r\n                <option value=\"CRITICAL\">α╕öα╣êα╕ºα╕Öα╕íα╕▓α╕ü</option>\r\n              </Select>\r\n\r\n              <Select\r\n                label=\"α╕¬α╕ûα╕▓α╕Öα╕░\"\r\n                name=\"status\"\r\n                value={formData.status}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"PENDING\">α╕úα╕¡α╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú</option>\r\n                <option value=\"IN_PROGRESS\">α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú</option>\r\n                <option value=\"WAITING_PARTS\">α╕úα╕¡α╕¡α╕░α╣äα╕½α╕Ñα╣ê</option>\r\n                <option value=\"COMPLETED\">α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö</option>\r\n                <option value=\"CANCELLED\">α╕óα╕üα╣Çα╕Ñα╕┤α╕ü</option>\r\n              </Select>\r\n\r\n               <Select\r\n                label=\"α╕£α╕╣α╣ëα╕úα╕▒α╕Üα╕£α╕┤α╕öα╕èα╕¡α╕Ü\"\r\n                name=\"assigneeId\"\r\n                value={formData.assigneeId}\r\n                onChange={handleChange}\r\n              >\r\n                <option value=\"\">--α╕óα╕▒α╕çα╣äα╕íα╣êα╣äα╕öα╣ëα╕üα╕│α╕½α╕Öα╕ö--</option>\r\n                {/* TODO: Fetch real users list */}\r\n                <option value=\"1\">Admin</option>\r\n              </Select>\r\n            </Section>\r\n\r\n            {/* α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╣Çα╕₧α╕┤α╣êα╕íα╣Çα╕òα╕┤α╕í */}\r\n            <Section title=\"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕üα╕▓α╕úα╕ïα╣êα╕¡α╕í\">\r\n              <Input\r\n                label=\"α╕ºα╕▒α╕Öα╕ùα╕╡α╣êα╣üα╕êα╣ëα╕ç\"\r\n                value={formData.createdAt ? new Date(formData.createdAt).toLocaleString('th-TH') : ''}\r\n                readOnly\r\n                className=\"bg-gray-50\"\r\n              />\r\n              <Textarea\r\n                label=\"α╕½α╕íα╕▓α╕óα╣Çα╕½α╕òα╕╕ / α╕üα╕▓α╕úα╣üα╕üα╣ëα╣äα╕é\"\r\n                name=\"notes\"\r\n                value={formData.notes}\r\n                onChange={handleChange}\r\n                placeholder=\"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕úα╕▓α╕óα╕Ñα╕░α╣Çα╕¡α╕╡α╕óα╕öα╕üα╕▓α╕úα╕ïα╣êα╕¡α╕í...\"\r\n                rows={6}\r\n              />\r\n            </Section>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Actions */}\r\n        <div className=\"mt-8 flex justify-end gap-3 pb-10\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => router.back()}\r\n            className=\"px-6 py-2 border border-gray-300 rounded text-gray-900 font-semibold hover:bg-gray-50\"\r\n          >\r\n            α╕óα╣ëα╕¡α╕Öα╕üα╕Ñα╕▒α╕Ü\r\n          </button>\r\n          <button\r\n            disabled={loading}\r\n            onClick={handleSubmit}\r\n            className=\"px-6 py-2 bg-slate-900 text-white rounded font-semibold hover:bg-slate-800 disabled:opacity-50 shadow-lg\"\r\n          >\r\n            {loading ? \"α╕üα╕│α╕Ñα╕▒α╕çα╕Üα╕▒α╕Öα╕ùα╕╢α╕ü...\" : \"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕üα╕▓α╕úα╣Çα╕¢α╕Ñα╕╡α╣êα╕óα╕Öα╣üα╕¢α╕Ñα╕ç\"}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n/* ---------------- Reusable Components ---------------- */\r\n\r\nfunction Section({\r\n  title,\r\n  children,\r\n}: {\r\n  title: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div className=\"bg-white border border-gray-200 rounded-lg overflow-hidden shadow-sm\">\r\n      <h2 className=\"bg-gray-50 border-b border-gray-100 text-gray-800 px-6 py-3 font-bold text-sm uppercase tracking-wide\">\r\n        {title}\r\n      </h2>\r\n      <div className=\"p-5 space-y-4\">{children}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Input(props: any) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\r\n        {props.label}\r\n      </label>\r\n      <input\r\n        {...props}\r\n        className={`w-full border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all ${props.className || ''}`}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Textarea(props: any) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\r\n        {props.label}\r\n      </label>\r\n      <textarea\r\n        {...props}\r\n        className=\"w-full border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent transition-all\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Select(props: any) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-semibold text-gray-700 mb-1.5\">\r\n        {props.label}\r\n      </label>\r\n      <div className=\"relative\">\r\n      <select\r\n        {...props}\r\n        className=\"w-full border border-gray-300 rounded-lg px-3 py-2.5 text-gray-900 text-sm focus:outline-none focus:ring-2 focus:ring-slate-900 focus:border-transparent appearance-none bg-white transition-all\"\r\n      >\r\n        {props.children}\r\n      </select>\r\n      <div className=\"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none text-gray-500\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m6 9 6 6 6-6\"/></svg>\r\n      </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\repairs\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":7,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":7,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Eye' is defined but never used.","line":8,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":8,"endColumn":6},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Plus' is defined but never used.","line":10,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":10,"endColumn":7},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":11},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AlertCircle' is defined but never used.","line":14,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":14,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":15,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":8},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CheckCircle' is defined but never used.","line":16,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":16,"endColumn":14},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'RefreshCw' is defined but never used.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoreVertical' is defined but never used.","line":18,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":18,"endColumn":15},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":73,"column":42,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":73,"endColumn":45,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1794,1797],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1794,1797],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":74,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":74,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1864,1867],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1864,1867],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"prefer-const","severity":2,"message":"'filtered' is never reassigned. Use 'const' instead.","line":125,"column":9,"nodeType":"Identifier","messageId":"useConst","endLine":125,"endColumn":17,"fix":{"range":[3327,3723],"text":"const filtered = repairs.filter((item) => {\r\n      const matchesSearch =\r\n        item.ticketCode.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (item.problemTitle && item.problemTitle.toLowerCase().includes(searchTerm.toLowerCase()));\r\n      const matchesStatus =\r\n        filterStatus === \"all\" || item.status === filterStatus;\r\n      return matchesSearch && matchesStatus;\r\n    });"}}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":9,"fixableErrorCount":1,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useSearchParams, useRouter } from \"next/navigation\";\r\nimport {\r\n  Search,\r\n  Filter,\r\n  Eye,\r\n  Trash2,\r\n  Plus,\r\n  Calendar,\r\n  User,\r\n  Wrench,\r\n  AlertCircle,\r\n  Clock,\r\n  CheckCircle,\r\n  RefreshCw,\r\n  MoreVertical,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n} from \"lucide-react\";\r\nimport { apiFetch } from \"@/services/api\";\r\n\r\n// Config labels for RepairTicketStatus\r\nconst statusLabels = {\r\n  PENDING: {\r\n    label: \"α╕úα╕¡α╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n    color: \"border-zinc-200 text-zinc-600\",\r\n    dot: \"bg-zinc-400\",\r\n    bg: \"bg-zinc-100 text-zinc-700\",\r\n    dotColor: \"bg-zinc-500\",\r\n  },\r\n  IN_PROGRESS: {\r\n    label: \"α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n    color: \"border-amber-200 text-amber-700\",\r\n    dot: \"bg-amber-500\",\r\n    bg: \"bg-amber-50 text-amber-700\",\r\n    dotColor: \"bg-amber-500\",\r\n  },\r\n  WAITING_PARTS: {\r\n    label: \"α╕úα╕¡α╕¡α╕░α╣äα╕½α╕Ñα╣ê\",\r\n    color: \"border-orange-200 text-orange-700\",\r\n    dot: \"bg-orange-500\",\r\n    bg: \"bg-orange-50 text-orange-700\",\r\n    dotColor: \"bg-orange-500\",\r\n  },\r\n  COMPLETED: {\r\n    label: \"α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\",\r\n    color: \"border-green-200 text-green-700\",\r\n    dot: \"bg-green-500\",\r\n    bg: \"bg-green-50 text-green-700\",\r\n    dotColor: \"bg-green-500\",\r\n  },\r\n  CANCELLED: {\r\n    label: \"α╕óα╕üα╣Çα╕Ñα╕┤α╕ü\",\r\n    color: \"border-red-200 text-red-700\",\r\n    dot: \"bg-red-500\",\r\n    bg: \"bg-red-50 text-red-700\",\r\n    dotColor: \"bg-red-500\",\r\n  },\r\n};\r\n\r\n// Config labels for UrgencyLevel\r\nconst urgencyLabels = {\r\n  NORMAL: { label: \"α╕¢α╕üα╕òα╕┤\", dot: \"bg-zinc-400\" },\r\n  URGENT: { label: \"α╕öα╣êα╕ºα╕Ö\", dot: \"bg-amber-500\" },\r\n  CRITICAL: { label: \"α╕öα╣êα╕ºα╕Öα╕íα╕▓α╕ü\", dot: \"bg-red-600\" },\r\n};\r\n\r\nexport default function AdminRepairsPage() {\r\n  const searchParams = useSearchParams();\r\n  const router = useRouter();\r\n  const [repairs, setRepairs] = useState<any[]>([]);\r\n  const [filteredRepairs, setFilteredRepairs] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterStatus, setFilterStatus] = useState(\r\n    searchParams.get(\"status\") || \"all\"\r\n  );\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const itemsPerPage = 8;\r\n\r\n  useEffect(() => {\r\n    const fetchRepairs = async (isBackground = false) => {\r\n      try {\r\n        if (!isBackground) setLoading(true);\r\n        // Changed endpoint to /api/repairs\r\n        const data = await apiFetch(\"/api/repairs\");\r\n        setRepairs(data || []);\r\n      } catch (err) {\r\n        console.error('Error fetching repairs:', err);\r\n      } finally {\r\n        if (!isBackground) setLoading(false);\r\n      }\r\n    };\r\n    \r\n    // Initial fetch\r\n    fetchRepairs();\r\n\r\n    // Polling every 10 seconds\r\n    const intervalId = setInterval(() => {\r\n      fetchRepairs(true);\r\n    }, 10000);\r\n\r\n    return () => clearInterval(intervalId);\r\n  }, []);\r\n\r\n  const handleDelete = async (id: string, ticketCode: string) => {\r\n    if (!window.confirm(`α╕äα╕╕α╕ôα╣üα╕Öα╣êα╣âα╕êα╕½α╕úα╕╖α╕¡α╕ºα╣êα╕▓α╕òα╣ëα╕¡α╕çα╕üα╕▓α╕úα╕Ñα╕Üα╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕íα╣üα╕ïα╕í #${ticketCode}?`)) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await apiFetch(`/api/repairs/${id}`, {\r\n        method: \"DELETE\",\r\n      });\r\n      setRepairs(repairs.filter((repair) => repair.id !== id));\r\n    } catch (err) {\r\n      console.error(\"Error deleting repair:\", err);\r\n      alert(\"α╣Çα╕üα╕┤α╕öα╕éα╣ëα╕¡α╕£α╕┤α╕öα╕₧α╕Ñα╕▓α╕öα╣âα╕Öα╕üα╕▓α╕úα╕Ñα╕Ü α╕üα╕úα╕╕α╕ôα╕▓α╕Ñα╕¡α╕çα╣âα╕½α╕íα╣ê\");\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let filtered = repairs.filter((item) => {\r\n      const matchesSearch =\r\n        item.ticketCode.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (item.problemTitle && item.problemTitle.toLowerCase().includes(searchTerm.toLowerCase()));\r\n      const matchesStatus =\r\n        filterStatus === \"all\" || item.status === filterStatus;\r\n      return matchesSearch && matchesStatus;\r\n    });\r\n    setFilteredRepairs(filtered);\r\n  }, [repairs, searchTerm, filterStatus]);\r\n\r\n  if (loading)\r\n    return (\r\n      <div className=\"h-screen flex items-center justify-center text-zinc-400 animate-pulse\">\r\n        α╕üα╕│α╕Ñα╕▒α╕çα╣éα╕½α╕Ñα╕öα╕éα╣ëα╕¡α╕íα╕╣α╕Ñ...\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-zinc-50 pt-6 pb-12\">\r\n      <div className=\"max-w-[1400px] mx-auto px-4 md:px-6\">\r\n        {/* Header Section */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-8\">\r\n          <div>\r\n            <h1 className=\"text-2xl md:text-3xl font-bold text-zinc-900\">α╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕íα╣üα╕ïα╕í</h1>\r\n            <p className=\"text-sm text-zinc-500 mt-2\">\r\n              α╕êα╕▒α╕öα╕üα╕▓α╕úα╣üα╕Ñα╕░α╕òα╕┤α╕öα╕òα╕▓α╕íα╕¬α╕ûα╕▓α╕Öα╕░α╕çα╕▓α╕Öα╕ïα╣êα╕¡α╕íα╕Üα╕│α╕úα╕╕α╕çα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕öα╣âα╕Öα╕úα╕░α╕Üα╕Ü\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Mini Stats (Clean) */}\r\n        <div className=\"grid grid-cols-2 lg:grid-cols-4 gap-3 lg:gap-4 mb-8\">\r\n          {[\r\n            { label: \"α╕çα╕▓α╕Öα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö\", value: repairs.length },\r\n            {\r\n              label: \"α╕úα╕¡α╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n              value: repairs.filter((r) => r.status === \"PENDING\").length,\r\n            },\r\n            {\r\n              label: \"α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n              value: repairs.filter((r) => r.status === \"IN_PROGRESS\").length,\r\n            },\r\n            {\r\n              label: \"α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\",\r\n              value: repairs.filter((r) => r.status === \"COMPLETED\").length,\r\n            \r\n            },\r\n          ].map((stat, i) => (\r\n            <div\r\n              key={i}\r\n              className=\"bg-white border border-zinc-200 p-4 rounded-lg hover:border-zinc-300 transition-all\"\r\n            >\r\n              <div className=\"flex items-start justify-between\">\r\n                <div>\r\n                  <p className=\"text-xs text-zinc-500 font-medium mb-2\">\r\n                    {stat.label}\r\n                  </p>\r\n                  <p className=\"text-2xl font-bold text-zinc-900\">\r\n                    {stat.value}\r\n                  </p>\r\n                </div>\r\n                <span className=\"text-xl\"></span>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Status Tabs */}\r\n        <div className=\"flex flex-wrap gap-2 mb-6 pb-4 border-b border-zinc-200 overflow-x-auto\">\r\n          {[\r\n            {\r\n              key: \"all\",\r\n              label: \"α╕ùα╕╕α╕üα╕¬α╕ûα╕▓α╕Öα╕░\",\r\n              count: repairs.length,\r\n              color: \"text-zinc-600\",\r\n            },\r\n            {\r\n              key: \"PENDING\",\r\n              label: \"α╕úα╕¡α╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n              count: repairs.filter((r) => r.status === \"PENDING\").length,\r\n              color: \"text-zinc-600\",\r\n            },\r\n            {\r\n              key: \"IN_PROGRESS\",\r\n              label: \"α╕üα╕│α╕Ñα╕▒α╕çα╕öα╕│α╣Çα╕Öα╕┤α╕Öα╕üα╕▓α╕ú\",\r\n              count: repairs.filter((r) => r.status === \"IN_PROGRESS\").length,\r\n              color: \"text-amber-600\",\r\n            },\r\n            {\r\n              key: \"WAITING_PARTS\",\r\n              label: \"α╕úα╕¡α╕¡α╕░α╣äα╕½α╕Ñα╣ê\",\r\n              count: repairs.filter((r) => r.status === \"WAITING_PARTS\").length,\r\n              color: \"text-orange-600\",\r\n            },\r\n            {\r\n              key: \"COMPLETED\",\r\n              label: \"α╣Çα╕¬α╕úα╣çα╕êα╕¬α╕┤α╣ëα╕Ö\",\r\n              count: repairs.filter((r) => r.status === \"COMPLETED\").length,\r\n              color: \"text-green-600\",\r\n            },\r\n             {\r\n              key: \"CANCELLED\",\r\n              label: \"α╕óα╕üα╣Çα╕Ñα╕┤α╕ü\",\r\n              count: repairs.filter((r) => r.status === \"CANCELLED\").length,\r\n              color: \"text-red-600\",\r\n            },\r\n          ].map((tab) => (\r\n            <button\r\n              key={tab.key}\r\n              onClick={() => setFilterStatus(tab.key)}\r\n              className={`px-4 py-2 rounded-lg font-medium text-sm transition-all whitespace-nowrap flex-shrink-0 ${\r\n                filterStatus === tab.key\r\n                  ? `${tab.color} bg-opacity-10 border-b-2 border-current`\r\n                  : \"text-zinc-500 hover:text-zinc-600\"\r\n              }`}\r\n            >\r\n              {tab.label}{\" \"}\r\n              <span className={`${tab.color} font-bold`}>({tab.count})</span>\r\n            </button>\r\n          ))}\r\n        </div>\r\n\r\n        {/* Filter & Search Bar */}\r\n        <div className=\"flex flex-col md:flex-row gap-3 mb-6\">\r\n          <div className=\"relative flex-grow\">\r\n            <Search\r\n              className=\"absolute left-4 top-1/2 -translate-y-1/2 text-zinc-400\"\r\n              size={18}\r\n              strokeWidth={1.5}\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"α╕äα╣ëα╕Öα╕½α╕▓α╣Çα╕Ñα╕éα╕òα╕▒α╣ïα╕º α╕½α╕úα╕╖α╕¡α╕èα╕╖α╣êα╕¡α╣Çα╕úα╕╖α╣êα╕¡α╕ç...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"w-full pl-12 pr-4 py-2.5 border border-zinc-200 text-black rounded-lg focus:outline-none focus:ring-2 focus:ring-zinc-900 focus:ring-offset-2 transition-all text-sm\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Desktop Table View */}\r\n        <div className=\"hidden md:block bg-white border border-zinc-200 rounded-lg overflow-hidden\">\r\n          <table className=\"w-full text-left\">\r\n            <thead>\r\n              <tr className=\"border-b border-zinc-200 bg-zinc-100/50\">\r\n                <th className=\"px-6 py-4 text-xs font-bold text-zinc-600\">\r\n                  α╣Çα╕Ñα╕éα╕òα╕▒α╣ïα╕º\r\n                </th>\r\n                <th className=\"px-6 py-4 text-xs font-bold text-zinc-600\">\r\n                  α╕úα╕▓α╕óα╕Ñα╕░α╣Çα╕¡α╕╡α╕óα╕ö\r\n                </th>\r\n                <th className=\"px-6 py-4 text-xs font-bold text-zinc-600\">\r\n                  α╕¬α╕ûα╕▓α╕Öα╕░\r\n                </th>\r\n                <th className=\"px-6 py-4 text-xs font-bold text-zinc-600\">\r\n                  α╕äα╕ºα╕▓α╕íα╣Çα╕úα╣êα╕çα╕öα╣êα╕ºα╕Ö\r\n                </th>\r\n                <th className=\"px-6 py-4 text-right text-xs font-bold text-zinc-600\">\r\n                  α╕üα╕▓α╕úα╕üα╕úα╕░α╕ùα╕│\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody className=\"divide-y divide-zinc-100\">\r\n              {filteredRepairs\r\n                .slice(\r\n                  (currentPage - 1) * itemsPerPage,\r\n                  currentPage * itemsPerPage\r\n                )\r\n                .map((repair) => (\r\n                  <tr\r\n                    key={repair.id}\r\n                    className=\"hover:bg-zinc-50/50 transition-colors group\"\r\n                  >\r\n                    <td className=\"px-6 py-4 font-mono text-xs font-bold text-zinc-500\">\r\n                      #{repair.ticketCode}\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"text-sm font-semibold text-zinc-900\">\r\n                        {repair.problemTitle}\r\n                      </div>\r\n                      <div className=\"text-xs text-zinc-500 mt-1.5 space-y-1\">\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <Wrench size={13} className=\"text-zinc-400\" />\r\n                          <span>{repair.problemCategory}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2\">\r\n                          <User size={13} className=\"text-zinc-400\" />\r\n                          <span>{repair.reporterName}</span>\r\n                          <span className=\"text-zinc-300\">|</span>\r\n                          <span>{repair.assignee?.name || \"α╕óα╕▒α╕çα╣äα╕íα╣êα╕üα╕│α╕½α╕Öα╕ö\"}</span>\r\n                        </div>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <span\r\n                        className={`inline-flex items-center gap-2 px-3 py-1 rounded text-xs font-semibold ${\r\n                           statusLabels[repair.status as keyof typeof statusLabels]?.bg || 'bg-zinc-50 text-zinc-700'\r\n                        }`}\r\n                      >\r\n                        <span\r\n                          className={`w-2 h-2 rounded-full ${\r\n                             statusLabels[repair.status as keyof typeof statusLabels]?.dotColor || 'bg-zinc-500'\r\n                          }`}\r\n                        />\r\n                        {\r\n                          statusLabels[\r\n                            repair.status as keyof typeof statusLabels\r\n                          ]?.label || repair.status\r\n                        }\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-6 py-4\">\r\n                      <div className=\"flex items-center gap-2\">\r\n                        <div\r\n                          className={`w-2.5 h-2.5 rounded-full ${\r\n                            urgencyLabels[\r\n                              repair.urgency as keyof typeof urgencyLabels\r\n                            ]?.dot\r\n                          }`}\r\n                        />\r\n                        <span className=\"text-xs font-medium text-zinc-600\">\r\n                          {\r\n                            urgencyLabels[\r\n                              repair.urgency as keyof typeof urgencyLabels\r\n                            ]?.label\r\n                          }\r\n                        </span>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"px-6 py-4 text-right\">\r\n                      <div className=\"flex items-center justify-end gap-3 opacity-0 group-hover:opacity-100 transition-opacity\">\r\n                        <button\r\n                          onClick={() =>\r\n                            router.push(`/admin/repairs/${repair.id}`)\r\n                          }\r\n                          className=\"p-2.5 text-zinc-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-all duration-200 hover:shadow-sm\"\r\n                          title=\"α╕öα╕╣ & α╣üα╕üα╣ëα╣äα╕é\"\r\n                        >\r\n                          <ChevronRight size={18} strokeWidth={1.5} />\r\n                        </button>\r\n                        <button\r\n                          onClick={() =>\r\n                            handleDelete(repair.id, repair.ticketCode)\r\n                          }\r\n                          className=\"p-2.5 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-all duration-200 hover:shadow-sm\"\r\n                          title=\"α╕Ñα╕Ü\"\r\n                        >\r\n                          <Trash2 size={18} strokeWidth={1.5} />\r\n                        </button>\r\n                      </div>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n            </tbody>\r\n          </table>\r\n\r\n          {/* Empty State */}\r\n          {filteredRepairs.length === 0 && (\r\n            <div className=\"py-12 text-center\">\r\n              <p className=\"text-zinc-400 text-sm\">\r\n                α╣äα╕íα╣êα╕₧α╕Üα╕úα╕▓α╕óα╕üα╕▓α╕úα╕ùα╕╡α╣êα╕òα╕úα╕çα╕üα╕▒α╕Üα╕üα╕▓α╕úα╕äα╣ëα╕Öα╕½α╕▓\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Mobile Card View */}\r\n        <div className=\"md:hidden space-y-4\">\r\n          {filteredRepairs\r\n            .slice(\r\n              (currentPage - 1) * itemsPerPage,\r\n              currentPage * itemsPerPage\r\n            )\r\n            .map((repair) => (\r\n              <div\r\n                key={repair.id}\r\n                className=\"bg-white border border-zinc-200 rounded-lg p-4 shadow-sm\"\r\n              >\r\n                <div className=\"flex items-center justify-between mb-3\">\r\n                  <span className=\"font-mono text-xs font-bold text-zinc-500\">\r\n                    #{repair.ticketCode}\r\n                  </span>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <span\r\n                      className={`inline-flex items-center gap-1.5 px-2 py-0.5 rounded text-[10px] font-semibold ${\r\n                         statusLabels[repair.status as keyof typeof statusLabels]?.bg || 'bg-zinc-50 text-zinc-700'\r\n                      }`}\r\n                    >\r\n                      <span\r\n                        className={`w-1.5 h-1.5 rounded-full ${\r\n                           statusLabels[repair.status as keyof typeof statusLabels]?.dotColor || 'bg-zinc-500'\r\n                        }`}\r\n                      />\r\n                      {\r\n                        statusLabels[\r\n                          repair.status as keyof typeof statusLabels\r\n                        ]?.label || repair.status\r\n                      }\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"mb-3\">\r\n                  <h3 className=\"text-sm font-semibold text-zinc-900 mb-1\">\r\n                    {repair.problemTitle}\r\n                  </h3>\r\n                  <div className=\"flex flex-wrap items-center gap-3 text-xs text-zinc-500\">\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <Wrench size={12} className=\"text-zinc-400\" />\r\n                      <span>{repair.problemCategory}</span>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <User size={12} className=\"text-zinc-400\" />\r\n                      <span>{repair.reporterName}</span>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                 <div className=\"flex items-center justify-between pt-3 border-t border-zinc-100\">\r\n                    <div className=\"flex items-center gap-1.5\">\r\n                      <div\r\n                        className={`w-2 h-2 rounded-full ${\r\n                          urgencyLabels[\r\n                            repair.urgency as keyof typeof urgencyLabels\r\n                          ]?.dot\r\n                        }`}\r\n                      />\r\n                      <span className=\"text-xs font-medium text-zinc-600\">\r\n                        {\r\n                          urgencyLabels[\r\n                            repair.urgency as keyof typeof urgencyLabels\r\n                          ]?.label\r\n                        }\r\n                      </span>\r\n                    </div>\r\n                   \r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() =>\r\n                          router.push(`/admin/repairs/${repair.id}`)\r\n                        }\r\n                        className=\"p-2 text-zinc-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors\"\r\n                      >\r\n                         <ChevronRight size={18} />\r\n                      </button>\r\n                         <button\r\n                          onClick={() =>\r\n                            handleDelete(repair.id, repair.ticketCode)\r\n                          }\r\n                          className=\"p-2 text-zinc-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n                        >\r\n                          <Trash2 size={18} />\r\n                        </button>\r\n                    </div>\r\n                 </div>\r\n              </div>\r\n            ))}\r\n             {filteredRepairs.length === 0 && (\r\n              <div className=\"py-12 text-center bg-white rounded-lg border border-zinc-200\">\r\n                <p className=\"text-zinc-400 text-sm\">\r\n                  α╣äα╕íα╣êα╕₧α╕Üα╕úα╕▓α╕óα╕üα╕▓α╕úα╕ùα╕╡α╣êα╕òα╕úα╕çα╕üα╕▒α╕Üα╕üα╕▓α╕úα╕äα╣ëα╕Öα╕½α╕▓\r\n                </p>\r\n              </div>\r\n            )}\r\n        </div>\r\n\r\n        {/* Pagination - Responsive */}\r\n        {filteredRepairs.length > 0 && (\r\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4 mt-6 bg-white border border-zinc-200 rounded-lg p-4\">\r\n            <p className=\"text-sm text-zinc-500 text-center sm:text-left\">\r\n              <span className=\"hidden sm:inline\">α╣üα╕¬α╕öα╕ç </span>\r\n              <b>{(currentPage - 1) * itemsPerPage + 1}</b>\r\n              <span className=\"hidden sm:inline\"> α╕ûα╕╢α╕ç </span>\r\n              <span className=\"sm:hidden\">-</span>\r\n              <b>\r\n                {Math.min(currentPage * itemsPerPage, filteredRepairs.length)}\r\n              </b>\r\n              <span className=\"hidden sm:inline\"> α╕êα╕▓α╕ü </span>\r\n              <span className=\"sm:hidden\"> / </span>\r\n              <b>{filteredRepairs.length}</b>\r\n              <span className=\"hidden sm:inline\"> α╕úα╕▓α╕óα╕üα╕▓α╕ú</span>\r\n            </p>\r\n            <div className=\"flex items-center gap-2\">\r\n              <button\r\n                disabled={currentPage === 1}\r\n                onClick={() => setCurrentPage((p) => p - 1)}\r\n                className=\"p-2 border border-zinc-200 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed hover:bg-zinc-50 transition-all\"\r\n              >\r\n                <ChevronLeft size={16} className=\"text-zinc-600\" />\r\n              </button>\r\n              <span className=\"text-sm font-medium text-zinc-600 px-2 sm:px-3 whitespace-nowrap\">\r\n                <span className=\"hidden sm:inline\">α╕½α╕Öα╣ëα╕▓ </span>{currentPage} / {Math.ceil(filteredRepairs.length / itemsPerPage)}\r\n              </span>\r\n              <button\r\n                disabled={\r\n                  currentPage >=\r\n                  Math.ceil(filteredRepairs.length / itemsPerPage)\r\n                }\r\n                onClick={() => setCurrentPage((p) => p + 1)}\r\n                className=\"p-2 border border-zinc-200 rounded-lg disabled:opacity-30 disabled:cursor-not-allowed hover:bg-zinc-50 transition-all\"\r\n              >\r\n                <ChevronRight size={16} className=\"text-zinc-600\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\settings\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":41,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":41,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1060,1063],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1060,1063],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport {\r\n  Settings as SettingsIcon,\r\n  Save,\r\n  AlertCircle,\r\n  Bell,\r\n  ShieldCheck,\r\n  Database,\r\n  Globe,\r\n} from \"lucide-react\";\r\n\r\ninterface SystemSettings {\r\n  systemName: string;\r\n  systemEmail: string;\r\n  maintenanceMode: boolean;\r\n  maxUploadSize: number;\r\n  sessionTimeout: number;\r\n  emailNotifications: boolean;\r\n  smsNotifications: boolean;\r\n}\r\n\r\ntype TabType = \"general\" | \"notifications\" | \"access\" | \"backup\";\r\n\r\nexport default function AdminSettingsPage() {\r\n  const [activeTab, setActiveTab] = useState<TabType>(\"general\");\r\n  const [saving, setSaving] = useState(false);\r\n  const [successMessage, setSuccessMessage] = useState(\"\");\r\n\r\n  const [settings, setSettings] = useState<SystemSettings>({\r\n    systemName: \"Ticket Resolver System\",\r\n    systemEmail: \"admin@company.com\",\r\n    maintenanceMode: false,\r\n    maxUploadSize: 50,\r\n    sessionTimeout: 30,\r\n    emailNotifications: true,\r\n    smsNotifications: false,\r\n  });\r\n\r\n  const handleChange = (field: keyof SystemSettings, value: any) => {\r\n    setSettings((prev) => ({ ...prev, [field]: value }));\r\n  };\r\n\r\n  const handleSave = async () => {\r\n    setSaving(true);\r\n    // α╕êα╕│α╕Ñα╕¡α╕çα╕üα╕▓α╕úα╣Çα╕èα╕╖α╣êα╕¡α╕íα╕òα╣êα╕¡ API\r\n    await new Promise((resolve) => setTimeout(resolve, 1000));\r\n    setSaving(false);\r\n    setSuccessMessage(\"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕üα╕▓α╕úα╕òα╕▒α╣ëα╕çα╕äα╣êα╕▓α╣Çα╕úα╕╡α╕óα╕Üα╕úα╣ëα╕¡α╕óα╣üα╕Ñα╣ëα╕º\");\r\n    setTimeout(() => setSuccessMessage(\"\"), 3000);\r\n  };\r\n\r\n  // α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╣Çα╕íα╕Öα╕╣ Sidebar\r\n  const navigation = [\r\n    { id: \"general\", label: \"α╕ùα╕▒α╣êα╕ºα╣äα╕¢\", icon: Globe },\r\n    { id: \"notifications\", label: \"α╕üα╕▓α╕úα╣üα╕êα╣ëα╕çα╣Çα╕òα╕╖α╕¡α╕Ö\", icon: Bell },\r\n    { id: \"access\", label: \"α╕¬α╕┤α╕ùα╕ÿα╕┤α╣îα╕üα╕▓α╕úα╣Çα╕éα╣ëα╕▓α╕ûα╕╢α╕ç\", icon: ShieldCheck },\r\n    { id: \"backup\", label: \"α╕üα╕▓α╕úα╕¬α╕│α╕úα╕¡α╕çα╕éα╣ëα╕¡α╕íα╕╣α╕Ñ\", icon: Database },\r\n  ];\r\n\r\n  return (\r\n    <div className=\"max-w-6xl mx-auto space-y-6 animate-in fade-in duration-500\">\r\n      {/* Header */}\r\n      <header>\r\n        <h1 className=\"text-3xl font-bold text-gray-900 tracking-tight\">\r\n          α╕òα╕▒α╣ëα╕çα╕äα╣êα╕▓α╕úα╕░α╕Üα╕Ü\r\n        </h1>\r\n        <p className=\"text-gray-500 mt-1\">\r\n          α╕êα╕▒α╕öα╕üα╕▓α╕úα╣éα╕äα╕úα╕çα╕¬α╕úα╣ëα╕▓α╕çα╕₧α╕╖α╣ëα╕Öα╕Éα╕▓α╕Öα╣üα╕Ñα╕░α╕üα╕▓α╕úα╕üα╕│α╕½α╕Öα╕öα╕äα╣êα╕▓α╕úα╕░α╕Üα╕Üα╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö\r\n        </p>\r\n      </header>\r\n\r\n      {/* Alert Message */}\r\n      {successMessage && (\r\n        <div className=\"bg-emerald-50 border border-emerald-200 rounded-xl p-4 flex items-center gap-3 animate-in slide-in-from-top-2\">\r\n          <div className=\"w-6 h-6 bg-emerald-500 rounded-full flex items-center justify-center text-white text-xs\">\r\n            Γ£ô\r\n          </div>\r\n          <p className=\"text-emerald-800 font-medium\">{successMessage}</p>\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-8\">\r\n        {/* Sidebar */}\r\n        <aside className=\"lg:col-span-1 space-y-2\">\r\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 p-2\">\r\n            {navigation.map((item) => (\r\n              <button\r\n                key={item.id}\r\n                onClick={() => setActiveTab(item.id as TabType)}\r\n                className={`w-full flex items-center gap-3 px-4 py-3 rounded-xl text-sm font-semibold transition-all ${\r\n                  activeTab === item.id\r\n                    ? \"bg-blue-600 text-white shadow-md shadow-blue-100\"\r\n                    : \"text-gray-600 hover:bg-gray-50\"\r\n                }`}\r\n              >\r\n                <item.icon size={18} />\r\n                {item.label}\r\n              </button>\r\n            ))}\r\n          </div>\r\n        </aside>\r\n\r\n        {/* Content Area */}\r\n        <main className=\"lg:col-span-3 space-y-6\">\r\n          <div className=\"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden\">\r\n            <div className=\"p-8\">\r\n              {activeTab === \"general\" && (\r\n                <section className=\"space-y-8 animate-in fade-in slide-in-from-right-4 duration-300\">\r\n                  <SectionTitle icon={<SettingsIcon />} title=\"α╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕₧α╕╖α╣ëα╕Öα╕Éα╕▓α╕Ö\" />\r\n\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                    <InputField\r\n                      label=\"α╕èα╕╖α╣êα╕¡α╕úα╕░α╕Üα╕Ü\"\r\n                      value={settings.systemName}\r\n                      onChange={(val) => handleChange(\"systemName\", val)}\r\n                    />\r\n                    <InputField\r\n                      label=\"α╕¡α╕╡α╣Çα╕íα╕Ñα╕úα╕░α╕Üα╕Ü\"\r\n                      type=\"email\"\r\n                      value={settings.systemEmail}\r\n                      onChange={(val) => handleChange(\"systemEmail\", val)}\r\n                    />\r\n                    <InputField\r\n                      label=\"α╕éα╕Öα╕▓α╕öα╕¡α╕▒α╕¢α╣éα╕½α╕Ñα╕öα╕¬α╕╣α╕çα╕¬α╕╕α╕ö (MB)\"\r\n                      type=\"number\"\r\n                      value={settings.maxUploadSize}\r\n                      onChange={(val) =>\r\n                        handleChange(\"maxUploadSize\", parseInt(val))\r\n                      }\r\n                    />\r\n                    <InputField\r\n                      label=\"α╕½α╕íα╕öα╣Çα╕ºα╕Ñα╕▓α╣Çα╕ïα╕¬α╕èα╕▒α╕Ö (α╕Öα╕▓α╕ùα╕╡)\"\r\n                      type=\"number\"\r\n                      value={settings.sessionTimeout}\r\n                      onChange={(val) =>\r\n                        handleChange(\"sessionTimeout\", parseInt(val))\r\n                      }\r\n                    />\r\n                  </div>\r\n\r\n                  <hr className=\"border-gray-100\" />\r\n\r\n                  <SectionTitle title=\"α╕¬α╕ûα╕▓α╕Öα╕░α╣üα╕Ñα╕░α╕äα╕ºα╕▓α╕íα╕¢α╕Ñα╕¡α╕öα╕áα╕▒α╕ó\" />\r\n                  <ToggleField\r\n                    title=\"α╣éα╕½α╕íα╕öα╕Üα╕│α╕úα╕╕α╕çα╕úα╕▒α╕üα╕⌐α╕▓\"\r\n                    description=\"α╕¢α╕┤α╕öα╕üα╕▓α╕úα╣Çα╕éα╣ëα╕▓α╕ûα╕╢α╕çα╕úα╕░α╕Üα╕Üα╕èα╕▒α╣êα╕ºα╕äα╕úα╕▓α╕ºα╕¬α╕│α╕½α╕úα╕▒α╕Üα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕ùα╕▒α╣êα╕ºα╣äα╕¢\"\r\n                    checked={settings.maintenanceMode}\r\n                    onChange={(val) => handleChange(\"maintenanceMode\", val)}\r\n                    warning={\r\n                      settings.maintenanceMode\r\n                        ? \"α╕úα╕░α╕Üα╕Üα╕üα╕│α╕Ñα╕▒α╕çα╕¡α╕óα╕╣α╣êα╣âα╕Öα╣éα╕½α╕íα╕öα╕Üα╕│α╕úα╕╕α╕çα╕úα╕▒α╕üα╕⌐α╕▓\"\r\n                        : undefined\r\n                    }\r\n                  />\r\n                </section>\r\n              )}\r\n\r\n              {activeTab === \"notifications\" && (\r\n                <section className=\"space-y-6 animate-in fade-in slide-in-from-right-4\">\r\n                  <SectionTitle\r\n                    icon={<Bell />}\r\n                    title=\"α╕üα╕▓α╕úα╕òα╕▒α╣ëα╕çα╕äα╣êα╕▓α╕üα╕▓α╕úα╣üα╕êα╣ëα╕çα╣Çα╕òα╕╖α╕¡α╕Ö\"\r\n                  />\r\n                  <div className=\"space-y-4\">\r\n                    <ToggleField\r\n                      title=\"α╕¡α╕╡α╣Çα╕íα╕Ñ\"\r\n                      description=\"α╕¬α╣êα╕çα╕üα╕▓α╕úα╣üα╕êα╣ëα╕çα╣Çα╕òα╕╖α╕¡α╕Öα╕çα╕▓α╕Öα╣âα╕½α╕íα╣êα╕£α╣êα╕▓α╕Öα╕ùα╕▓α╕çα╕¡α╕╡α╣Çα╕íα╕Ñ\"\r\n                      checked={settings.emailNotifications}\r\n                      onChange={(val) =>\r\n                        handleChange(\"emailNotifications\", val)\r\n                      }\r\n                    />\r\n                    <ToggleField\r\n                      title=\"SMS\"\r\n                      description=\"α╕¬α╣êα╕çα╕úα╕½α╕▒α╕¬α╕óα╕╖α╕Öα╕óα╕▒α╕Öα╣üα╕Ñα╕░α╕¢α╕úα╕░α╕üα╕▓α╕¿α╕öα╣êα╕ºα╕Öα╕£α╣êα╕▓α╕Ö SMS\"\r\n                      checked={settings.smsNotifications}\r\n                      onChange={(val) => handleChange(\"smsNotifications\", val)}\r\n                    />\r\n                  </div>\r\n                </section>\r\n              )}\r\n\r\n              {/* Tab α╕¡α╕╖α╣êα╕Öα╣å α╕¬α╕▓α╕íα╕▓α╕úα╕ûα╣Çα╕₧α╕┤α╣êα╕íα╣äα╕öα╣ëα╕òα╕úα╕çα╕Öα╕╡α╣ë */}\r\n              {[\"access\", \"backup\"].includes(activeTab) && (\r\n                <div className=\"py-20 text-center text-gray-400\">\r\n                  <div className=\"mb-2\">α╕¡α╕óα╕╣α╣êα╕úα╕░α╕½α╕ºα╣êα╕▓α╕çα╕üα╕▓α╕úα╕₧α╕▒α╕Æα╕Öα╕▓</div>\r\n                  <p className=\"text-sm\">\r\n                    α╕ƒα╕╡α╣Çα╕êα╕¡α╕úα╣îα╕Öα╕╡α╣ëα╕êα╕░α╕₧α╕úα╣ëα╕¡α╕íα╣âα╕èα╣ëα╕çα╕▓α╕Öα╣âα╕Öα╣Çα╕ºα╕¡α╕úα╣îα╕èα╕▒α╕Öα╕ûα╕▒α╕öα╣äα╕¢\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Footer Action */}\r\n            <div className=\"bg-gray-50 px-8 py-4 flex justify-end border-t border-gray-100\">\r\n              <button\r\n                onClick={handleSave}\r\n                disabled={saving}\r\n                className=\"flex items-center gap-2 px-8 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all disabled:bg-gray-300 font-bold shadow-lg shadow-blue-100\"\r\n              >\r\n                {saving ? (\r\n                  <div className=\"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin\" />\r\n                ) : (\r\n                  <Save size={18} />\r\n                )}\r\n                <span>{saving ? \"α╕üα╕│α╕Ñα╕▒α╕çα╕Üα╕▒α╕Öα╕ùα╕╢α╕ü...\" : \"α╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕üα╕▓α╕úα╕òα╕▒α╣ëα╕çα╕äα╣êα╕▓\"}</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Sub-components (Helpers) ---\r\n\r\nfunction SectionTitle({\r\n  icon,\r\n  title,\r\n}: {\r\n  icon?: React.ReactNode;\r\n  title: string;\r\n}) {\r\n  return (\r\n    <h2 className=\"text-lg font-bold text-gray-900 flex items-center gap-2 mb-4\">\r\n      {icon && <span className=\"text-blue-600\">{icon}</span>}\r\n      {title}\r\n    </h2>\r\n  );\r\n}\r\n\r\nfunction InputField({\r\n  label,\r\n  value,\r\n  onChange,\r\n  type = \"text\",\r\n}: {\r\n  label: string;\r\n  value: string | number;\r\n  onChange: (value: string) => void;\r\n  type?: string;\r\n}) {\r\n  return (\r\n    <div className=\"space-y-1.5\">\r\n      <label className=\"text-sm font-semibold text-gray-700\">{label}</label>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        className=\"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-500 focus:bg-white focus:border-transparent outline-none transition-all text-gray-900\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ToggleField({\r\n  title,\r\n  description,\r\n  checked,\r\n  onChange,\r\n  warning,\r\n}: {\r\n  title: string;\r\n  description: string;\r\n  checked: boolean;\r\n  onChange: (value: boolean) => void;\r\n  warning?: string;\r\n}) {\r\n  return (\r\n    <div className=\"space-y-3\">\r\n      <div className=\"flex items-center justify-between p-4 bg-gray-50 border border-gray-100 rounded-2xl\">\r\n        <div>\r\n          <h3 className=\"font-bold text-gray-900 text-sm\">{title}</h3>\r\n          <p className=\"text-xs text-gray-500 mt-0.5\">{description}</p>\r\n        </div>\r\n        <label className=\"relative inline-flex items-center cursor-pointer\">\r\n          <input\r\n            type=\"checkbox\"\r\n            className=\"sr-only peer\"\r\n            checked={checked}\r\n            onChange={(e) => onChange(e.target.checked)}\r\n          />\r\n          <div className=\"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600\"></div>\r\n        </label>\r\n      </div>\r\n      {warning && (\r\n        <div className=\"flex items-center gap-2 px-4 py-2 bg-amber-50 border border-amber-100 rounded-xl text-amber-700 text-xs\">\r\n          <AlertCircle size={14} />\r\n          {warning}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\users\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MoreVertical' is defined but never used.","line":11,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":11,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Filter' is defined but never used.","line":15,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":9},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'MessageCircle' is defined but never used.","line":17,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":17,"endColumn":16},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":67,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":67,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2059,2062],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2059,2062],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":114,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":114,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[3842,3845],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[3842,3845],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'err' is defined but never used.","line":128,"column":14,"nodeType":null,"messageId":"unusedVar","endLine":128,"endColumn":17},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":128,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":128,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[4253,4256],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[4253,4256],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect, useMemo, useCallback } from \"react\";\r\nimport {\r\n  Search,\r\n  ChevronLeft,\r\n  ChevronRight,\r\n  UserPlus,\r\n  AlertCircle,\r\n  CheckCircle2,\r\n  MoreVertical,\r\n  Shield,\r\n  Trash2,\r\n  Edit2,\r\n  Filter,\r\n  RefreshCw,\r\n  MessageCircle,\r\n  Mail,\r\n  Phone,\r\n  User as UserIcon,\r\n  Users\r\n} from \"lucide-react\";\r\nimport UserModal from \"@/components/UserModal\";\r\nimport ConfirmDialog from \"@/components/ConfirmDialog\";\r\nimport { userService, User } from \"@/services/userService\";\r\n\r\ntype RoleFilter = \"all\" | \"ADMIN\" | \"IT\" | \"USER\";\r\n\r\nexport default function AdminUsersPage() {\r\n  // --- States ---\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [roleFilter, setRoleFilter] = useState<RoleFilter>(\"all\");\r\n\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [totalUsers, setTotalUsers] = useState(0);\r\n\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [selectedUser, setSelectedUser] = useState<User | null>(null);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [isViewOnly, setIsViewOnly] = useState(false);\r\n  const [deleteUser, setDeleteUser] = useState<User | null>(null);\r\n  const [isDeleting, setIsDeleting] = useState(false);\r\n\r\n  const [notification, setNotification] = useState<{\r\n    type: \"success\" | \"error\";\r\n    message: string;\r\n  } | null>(null);\r\n\r\n  const LIMIT = 10;\r\n\r\n  // --- Actions ---\r\n  const showNotification = (type: \"success\" | \"error\", message: string) => {\r\n    setNotification({ type, message });\r\n    setTimeout(() => setNotification(null), 3000);\r\n  };\r\n\r\n  const fetchUsers = useCallback(async (page: number) => {\r\n    setIsLoading(true);\r\n    try {\r\n      const response = await userService.getAllUsers(page, LIMIT);\r\n      setUsers(response.data);\r\n      setTotalPages(response.pagination.totalPages);\r\n      setTotalUsers(response.pagination.total);\r\n      setCurrentPage(response.pagination.page);\r\n    } catch (err: any) {\r\n      showNotification(\"error\", err.message || \"α╣äα╕íα╣êα╕¬α╕▓α╕íα╕▓α╕úα╕ûα╣éα╕½α╕Ñα╕öα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣âα╕èα╣ëα╣äα╕öα╣ë\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetchUsers(currentPage);\r\n  }, [fetchUsers, currentPage]);\r\n\r\n  const filteredUsers = useMemo(() => {\r\n    return users.filter((user) => {\r\n      const matchesSearch =\r\n        user.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        user.email.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n        (user.lineUserId && user.lineUserId.toLowerCase().includes(searchQuery.toLowerCase())) ||\r\n        (user.displayName && user.displayName.toLowerCase().includes(searchQuery.toLowerCase()));\r\n      const matchesRole = roleFilter === \"all\" || user.role === roleFilter;\r\n      return matchesSearch && matchesRole;\r\n    });\r\n  }, [users, searchQuery, roleFilter]);\r\n\r\n  const handleSaveUser = async (data: Partial<User>) => {\r\n\r\n    try {\r\n      const { password, ...userDataWithoutPassword } = data;\r\n\r\n      if (!selectedUser) {\r\n        // Create new user\r\n        if (!password) {\r\n           showNotification(\"error\", \"α╕üα╕úα╕╕α╕ôα╕▓α╕úα╕░α╕Üα╕╕α╕úα╕½α╕▒α╕¬α╕£α╣êα╕▓α╕Öα╕¬α╕│α╕½α╕úα╕▒α╕Üα╕£α╕╣α╣ëα╣âα╕èα╣ëα╣âα╕½α╕íα╣ê\");\r\n           return;\r\n        }\r\n        await userService.createUser({ ...userDataWithoutPassword, password });\r\n        showNotification(\"success\", \"α╣Çα╕₧α╕┤α╣êα╕íα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Öα╣âα╕½α╕íα╣êα╣Çα╕úα╕╡α╕óα╕Üα╕úα╣ëα╕¡α╕óα╣üα╕Ñα╣ëα╕º\");\r\n      } else {\r\n        // Update existing user\r\n        await userService.updateUser(selectedUser.id, userDataWithoutPassword);\r\n        // Change password if provided\r\n        if (password) {\r\n          await userService.changePassword(selectedUser.id, password);\r\n        }\r\n        showNotification(\"success\", \"α╕¡α╕▒α╕¢α╣Çα╕öα╕òα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣âα╕èα╣ëα╣Çα╕úα╕╡α╕óα╕Üα╕úα╣ëα╕¡α╕óα╣üα╕Ñα╣ëα╕º\");\r\n      }\r\n      fetchUsers(currentPage);\r\n      setIsModalOpen(false);\r\n    } catch (err: any) {\r\n      showNotification(\"error\", err.message || \"α╣äα╕íα╣êα╕¬α╕▓α╕íα╕▓α╕úα╕ûα╕Üα╕▒α╕Öα╕ùα╕╢α╕üα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╣äα╕öα╣ë\");\r\n      throw err;\r\n    }\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteUser) return;\r\n    setIsDeleting(true);\r\n    try {\r\n      await userService.deleteUser(deleteUser.id);\r\n      showNotification(\"success\", \"α╕Ñα╕Üα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Öα╕¬α╕│α╣Çα╕úα╣çα╕ê\");\r\n      fetchUsers(currentPage);\r\n      setDeleteUser(null);\r\n    } catch (err: any) {\r\n      showNotification(\"error\", \"α╣Çα╕üα╕┤α╕öα╕éα╣ëα╕¡α╕£α╕┤α╕öα╕₧α╕Ñα╕▓α╕öα╣âα╕Öα╕üα╕▓α╕úα╕Ñα╕Ü\");\r\n    } finally {\r\n      setIsDeleting(false);\r\n    }\r\n  };\r\n\r\n  const getRoleBadge = (role: string) => {\r\n    switch (role) {\r\n      case \"ADMIN\":\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-rose-50 text-rose-600 border border-rose-100\">\r\n            <Shield size={12} />\r\n            α╕£α╕╣α╣ëα╕öα╕╣α╣üα╕Ñα╕úα╕░α╕Üα╕Ü\r\n          </span>\r\n        );\r\n      case \"IT\":\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-indigo-50 text-indigo-600 border border-indigo-100\">\r\n            <Users size={12} />\r\n            α╕¥α╣êα╕▓α╕óα╣äα╕¡α╕ùα╕╡\r\n          </span>\r\n        );\r\n      default:\r\n        return (\r\n          <span className=\"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-semibold bg-emerald-50 text-emerald-600 border border-emerald-100\">\r\n            <UserIcon size={12} />\r\n            α╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Öα╕ùα╕▒α╣êα╕ºα╣äα╕¢\r\n          </span>\r\n        );\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-[#F8FAFC] font-sans\">\r\n      <div className=\"max-w-7xl mx-auto space-y-6\">\r\n        {/* Header Section */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center justify-between gap-6\">\r\n          <div className=\"flex items-center gap-5\">\r\n            <div className=\"w-14 h-14 bg-gradient-to-br from-indigo-500 to-violet-600 rounded-2xl shadow-lg shadow-indigo-200 flex items-center justify-center text-white transform hover:scale-105 transition-transform duration-300\">\r\n              <Users size={28} strokeWidth={1.5} />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">\r\n                α╕êα╕▒α╕öα╕üα╕▓α╕úα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Ö\r\n              </h1>\r\n              <p className=\"text-slate-500 mt-1 flex items-center gap-2 text-sm\">\r\n                <span className=\"w-2 h-2 rounded-full bg-emerald-500 animate-pulse\" />\r\n                α╕êα╕▒α╕öα╕üα╕▓α╕úα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕¬α╕íα╕▓α╕èα╕┤α╕üα╣üα╕Ñα╕░α╕¬α╕┤α╕ùα╕ÿα╕┤α╣îα╕üα╕▓α╕úα╣Çα╕éα╣ëα╕▓α╕ûα╕╢α╕çα╕úα╕░α╕Üα╕Ü\r\n              </p>\r\n            </div>\r\n          </div>\r\n          \r\n          <div className=\"flex gap-3\">\r\n             <button\r\n                onClick={() => {\r\n                  setSelectedUser(null);\r\n                  setIsViewOnly(false);\r\n                  setIsModalOpen(true);\r\n                }}\r\n                className=\"bg-slate-900 hover:bg-slate-800 text-white px-5 py-2.5 rounded-xl font-medium flex items-center gap-2 shadow-lg shadow-slate-200 transition-all active:scale-95\"\r\n              >\r\n                <UserPlus size={20} />\r\n                α╣Çα╕₧α╕┤α╣êα╕íα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Ö\r\n              </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Floating Notification */}\r\n        {notification && (\r\n          <div\r\n            className={`fixed top-6 right-6 z-[100] flex items-center gap-3 px-6 py-4 rounded-xl shadow-[0_8px_30px_rgb(0,0,0,0.12)] border animate-in fade-in slide-in-from-top-4 duration-300 backdrop-blur-md ${\r\n              notification.type === \"success\"\r\n                ? \"bg-white/90 border-emerald-100 text-emerald-800\"\r\n                : \"bg-white/90 border-red-100 text-red-800\"\r\n            }`}\r\n          >\r\n            {notification.type === \"success\" ? (\r\n              <div className=\"bg-emerald-100 p-1.5 rounded-full\">\r\n                <CheckCircle2 className=\"text-emerald-600\" size={18} />\r\n              </div>\r\n            ) : (\r\n              <div className=\"bg-red-100 p-1.5 rounded-full\">\r\n                <AlertCircle className=\"text-red-600\" size={18} />\r\n              </div>\r\n            )}\r\n            <div>\r\n              <p className=\"font-semibold text-sm\">{notification.type === \"success\" ? \"α╕¬α╕│α╣Çα╕úα╣çα╕ê\" : \"α╕éα╣ëα╕¡α╕£α╕┤α╕öα╕₧α╕Ñα╕▓α╕ö\"}</p>\r\n              <p className=\"text-xs opacity-90\">{notification.message}</p>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Filters & Actions Bar */}\r\n        <div className=\"bg-white rounded-2xl border border-slate-200/60 shadow-sm sticky top-4 z-20 backdrop-blur-xl bg-white/80\">\r\n          <div className=\"p-4 flex flex-col md:flex-row gap-4 justify-between items-center\">\r\n            {/* Search */}\r\n            <div className=\"relative w-full md:w-96 group\">\r\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\r\n                <Search className=\"h-5 w-5 text-slate-400 group-focus-within:text-indigo-500 transition-colors\" />\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                className=\"block w-full pl-10 pr-4 py-2.5 bg-slate-50 border border-slate-200 rounded-xl text-sm focus:ring-2 focus:ring-indigo-500/20 focus:border-indigo-500 outline-none transition-all placeholder:text-slate-400 hover:bg-white\"\r\n                placeholder=\"α╕äα╣ëα╕Öα╕½α╕▓α╕èα╕╖α╣êα╕¡α╣äα╕Ñα╕Öα╣î, α╣äα╕¡α╕öα╕╡α╣äα╕Ñα╕Öα╣î, α╕¡α╕╡α╣Çα╕íα╕Ñ...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n              />\r\n            </div>\r\n\r\n            {/* Filters */}\r\n            <div className=\"flex items-center gap-3 w-full md:w-auto overflow-x-auto pb-2 md:pb-0 no-scrollbar\">\r\n              <div className=\"flex bg-slate-100 p-1 rounded-xl shrink-0\">\r\n                {[\r\n                  { id: \"all\", label: \"α╕ùα╕▒α╣ëα╕çα╕½α╕íα╕ö\" },\r\n                  { id: \"ADMIN\", label: \"α╕£α╕╣α╣ëα╕öα╕╣α╣üα╕Ñ\" },\r\n                  { id: \"IT\", label: \"α╣äα╕¡α╕ùα╕╡\" },\r\n                  { id: \"USER\", label: \"α╕ùα╕▒α╣êα╕ºα╣äα╕¢\" },\r\n                ].map((role) => (\r\n                  <button\r\n                    key={role.id}\r\n                    onClick={() => setRoleFilter(role.id as RoleFilter)}\r\n                    className={`px-4 py-1.5 rounded-lg text-sm font-medium transition-all duration-200 whitespace-nowrap ${\r\n                      roleFilter === role.id\r\n                        ? \"bg-white text-indigo-600 shadow-sm ring-1 ring-black/5\"\r\n                        : \"text-slate-500 hover:text-slate-700 hover:bg-slate-200/50\"\r\n                    }`}\r\n                  >\r\n                    {role.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n              \r\n              <div className=\"h-8 w-px bg-slate-200 mx-1 hidden md:block\"></div>\r\n\r\n              <button\r\n                onClick={() => fetchUsers(currentPage)}\r\n                className=\"p-2.5 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all border border-transparent hover:border-indigo-100\"\r\n                title=\"α╕úα╕╡α╣Çα╕ƒα╕úα╕èα╕éα╣ëα╕¡α╕íα╕╣α╕Ñ\"\r\n              >\r\n                <RefreshCw\r\n                  size={20}\r\n                  className={isLoading ? \"animate-spin\" : \"\"}\r\n                />\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Users List - Mobile Card View */}\r\n        <div className=\"md:hidden space-y-3\">\r\n          {isLoading ? (\r\n            [...Array(5)].map((_, i) => (\r\n              <div key={i} className=\"bg-white rounded-2xl border border-slate-200 p-4 animate-pulse\">\r\n                <div className=\"flex items-center gap-3\">\r\n                  <div className=\"w-12 h-12 bg-slate-100 rounded-2xl\"></div>\r\n                  <div className=\"flex-1 space-y-2\">\r\n                    <div className=\"h-4 w-32 bg-slate-100 rounded\"></div>\r\n                    <div className=\"h-3 w-48 bg-slate-100 rounded\"></div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            ))\r\n          ) : filteredUsers.length === 0 ? (\r\n            <div className=\"bg-white rounded-2xl border border-slate-200 p-8 text-center\">\r\n              <div className=\"w-16 h-16 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n                <UserIcon className=\"text-slate-300\" size={32} />\r\n              </div>\r\n              <h3 className=\"text-slate-900 font-medium\">α╣äα╕íα╣êα╕₧α╕Üα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Ö</h3>\r\n              <p className=\"text-slate-500 text-sm mt-1\">α╕Ñα╕¡α╕çα╣Çα╕¢α╕Ñα╕╡α╣êα╕óα╕Öα╕äα╕│α╕äα╣ëα╕Öα╕½α╕▓α╕½α╕úα╕╖α╕¡α╕òα╕▒α╕ºα╕üα╕úα╕¡α╕ç</p>\r\n            </div>\r\n          ) : (\r\n            filteredUsers.map((user) => (\r\n              <div \r\n                key={user.id} \r\n                className=\"bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden\"\r\n              >\r\n                <div className=\"p-4\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <div className={`w-12 h-12 shrink-0 rounded-2xl flex items-center justify-center text-lg font-bold shadow-sm\r\n                      ${user.role === 'ADMIN' ? 'bg-gradient-to-br from-rose-100 to-rose-200 text-rose-600' : \r\n                        user.role === 'IT' ? 'bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-600' : \r\n                        'bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600'}`}>\r\n                      {(user.displayName || user.name || \"?\").charAt(0).toUpperCase()}\r\n                    </div>\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <div className=\"flex items-center gap-2 flex-wrap\">\r\n                        <span className=\"font-bold text-slate-900\">{user.displayName || user.name}</span>\r\n                        {getRoleBadge(user.role)}\r\n                      </div>\r\n                      {user.department && (\r\n                        <span className=\"inline-block mt-1 px-2 py-0.5 rounded-full bg-slate-100 text-xs font-medium text-slate-500 border border-slate-200\">\r\n                          {user.department}\r\n                        </span>\r\n                      )}\r\n                      <div className=\"mt-2 space-y-1 text-xs text-slate-500\">\r\n                        <div className=\"flex items-center gap-1.5\">\r\n                          <Mail size={12} className=\"text-slate-400 shrink-0\" />\r\n                          <span className=\"truncate\">{user.email}</span>\r\n                        </div>\r\n                        {user.phoneNumber && (\r\n                          <div className=\"flex items-center gap-1.5\">\r\n                            <Phone size={12} className=\"text-slate-400 shrink-0\" />\r\n                            <span>{user.phoneNumber}</span>\r\n                          </div>\r\n                        )}\r\n                        {user.displayName && user.name !== user.displayName && (\r\n                          <div className=\"text-slate-400\">α╕èα╕╖α╣êα╕¡α╕úα╕░α╕Üα╕Ü: {user.name}</div>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"flex border-t border-slate-100 divide-x divide-slate-100\">\r\n                  <button\r\n                    onClick={() => {\r\n                      setSelectedUser(user);\r\n                      setIsViewOnly(false);\r\n                      setIsModalOpen(true);\r\n                    }}\r\n                    className=\"flex-1 py-3 text-sm font-medium text-indigo-600 hover:bg-indigo-50 transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <Edit2 size={16} />\r\n                    α╣üα╕üα╣ëα╣äα╕é\r\n                  </button>\r\n                  <button\r\n                    onClick={() => setDeleteUser(user)}\r\n                    className=\"flex-1 py-3 text-sm font-medium text-rose-600 hover:bg-rose-50 transition-colors flex items-center justify-center gap-2\"\r\n                  >\r\n                    <Trash2 size={16} />\r\n                    α╕Ñα╕Ü\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n\r\n        {/* Users Table - Desktop View */}\r\n        <div className=\"hidden md:block bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden\">\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left\">\r\n              <thead>\r\n                <tr className=\"bg-slate-50/50 border-b border-slate-100 text-slate-500 text-xs uppercase tracking-wider font-semibold\">\r\n                  <th className=\"px-6 py-4 rounded-tl-2xl w-full\">α╕èα╕╖α╣êα╕¡α╕£α╕╣α╣ëα╣üα╕êα╣ëα╕ç (Name)</th>\r\n                  <th className=\"px-6 py-4 whitespace-nowrap\">α╕¬α╕ûα╕▓α╕Öα╕░</th>\r\n                   <th className=\"px-6 py-4 text-right rounded-tr-2xl whitespace-nowrap\">α╕êα╕▒α╕öα╕üα╕▓α╕ú</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-slate-50\">\r\n                {isLoading ? (\r\n                  [...Array(5)].map((_, i) => (\r\n                    <tr key={i} className=\"animate-pulse\">\r\n                      <td className=\"px-6 py-4\"><div className=\"h-12 w-64 bg-slate-100 rounded-lg\"></div></td>\r\n                      <td className=\"px-6 py-4\"><div className=\"h-6 w-20 bg-slate-100 rounded-full\"></div></td>\r\n                      <td className=\"px-6 py-4\"><div className=\"h-8 w-16 bg-slate-100 rounded ml-auto\"></div></td>\r\n                    </tr>\r\n                  ))\r\n                ) : filteredUsers.length === 0 ? (\r\n                  <tr>\r\n                    <td colSpan={3} className=\"px-6 py-20 text-center\">\r\n                      <div className=\"w-20 h-20 bg-slate-50 rounded-full flex items-center justify-center mx-auto mb-4\">\r\n                        <UserIcon className=\"text-slate-300\" size={40} />\r\n                      </div>\r\n                      <h3 className=\"text-slate-900 font-medium text-lg\">α╣äα╕íα╣êα╕₧α╕Üα╕éα╣ëα╕¡α╕íα╕╣α╕Ñα╕£α╕╣α╣ëα╣âα╕èα╣ëα╕çα╕▓α╕Ö</h3>\r\n                      <p className=\"text-slate-500 mt-1\">α╕Ñα╕¡α╕çα╣Çα╕¢α╕Ñα╕╡α╣êα╕óα╕Öα╕äα╕│α╕äα╣ëα╕Öα╕½α╕▓α╕½α╕úα╕╖α╕¡α╕òα╕▒α╕ºα╕üα╕úα╕¡α╕ç</p>\r\n                    </td>\r\n                  </tr>\r\n                ) : (\r\n                  filteredUsers.map((user) => (\r\n                    <tr \r\n                      key={user.id} \r\n                      className=\"group hover:bg-slate-50/80 transition-colors duration-150\"\r\n                    >\r\n                      <td className=\"px-6 py-4\">\r\n                        <div className=\"flex items-center gap-4\">\r\n                          <div className={`w-12 h-12 shrink-0 rounded-2xl flex items-center justify-center text-lg font-bold shadow-sm ring-4 ring-white\r\n                            ${user.role === 'ADMIN' ? 'bg-gradient-to-br from-rose-100 to-rose-200 text-rose-600' : \r\n                              user.role === 'IT' ? 'bg-gradient-to-br from-indigo-100 to-indigo-200 text-indigo-600' : \r\n                              'bg-gradient-to-br from-emerald-100 to-emerald-200 text-emerald-600'}`}>\r\n                            {(user.displayName || user.name || \"?\").charAt(0).toUpperCase()}\r\n                          </div>\r\n                          <div className=\"flex flex-col gap-0.5\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                                <span className=\"font-bold text-slate-900 text-base\">{user.displayName || user.name}</span>\r\n                                {user.department && (\r\n                                    <span className=\"px-2 py-0.5 rounded-full bg-slate-100 text-xs font-semibold text-slate-500 border border-slate-200\">\r\n                                        {user.department}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n                            \r\n                            <div className=\"flex items-center gap-3 text-xs text-slate-500\">\r\n                                <span className=\"flex items-center gap-1.5 \">\r\n                                    <Mail size={12} className=\"text-slate-400\" />\r\n                                    {user.email}\r\n                                </span>\r\n                                {user.phoneNumber && (\r\n                                    <span className=\"flex items-center gap-1.5 opacity-75\">\r\n                                        <Phone size={12} className=\"text-slate-400\" />\r\n                                        {user.phoneNumber}\r\n                                    </span>\r\n                                )}\r\n                            </div>\r\n\r\n                            {user.displayName && user.name !== user.displayName && (\r\n                                <div className=\"flex items-center gap-1.5 mt-1\">\r\n                                    <span className=\"text-xs text-slate-400\">α╕èα╕╖α╣êα╕¡α╕úα╕░α╕Üα╕Ü: {user.name}</span>\r\n                                </div>\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </td>\r\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\r\n                        {getRoleBadge(user.role)}\r\n                      </td>\r\n                      <td className=\"px-6 py-4 text-right whitespace-nowrap\">\r\n                        <div className=\"flex items-center justify-end gap-2 opacity-60 group-hover:opacity-100 transition-opacity\">\r\n                            <button\r\n                                onClick={() => {\r\n                                  setSelectedUser(user);\r\n                                  setIsViewOnly(false);\r\n                                  setIsModalOpen(true);\r\n                                }}\r\n                                className=\"p-2 text-slate-500 hover:text-indigo-600 hover:bg-indigo-50 rounded-xl transition-all\"\r\n                                title=\"α╣üα╕üα╣ëα╣äα╕é\"\r\n                              >\r\n                                <Edit2 size={18} />\r\n                              </button>\r\n                              <button\r\n                                onClick={() => setDeleteUser(user)}\r\n                                className=\"p-2 text-slate-500 hover:text-rose-600 hover:bg-rose-50 rounded-xl transition-all\"\r\n                                title=\"α╕Ñα╕Ü\"\r\n                              >\r\n                                <Trash2 size={18} />\r\n                              </button>\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))\r\n                )}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Pagination - Responsive */}\r\n        <div className=\"bg-white rounded-2xl border border-slate-200 shadow-sm px-4 md:px-6 py-4 flex flex-col sm:flex-row items-center justify-between gap-4 text-sm\">\r\n          <div className=\"text-slate-500 text-center sm:text-left\">\r\n            <span className=\"hidden sm:inline\">α╣üα╕¬α╕öα╕ç </span>\r\n            <span className=\"font-medium text-slate-900\">{(currentPage - 1) * LIMIT + 1}</span>\r\n            <span className=\"hidden sm:inline\"> α╕ûα╕╢α╕ç </span>\r\n            <span className=\"sm:hidden\">-</span>\r\n            <span className=\"font-medium text-slate-900\">{Math.min(currentPage * LIMIT, totalUsers)}</span>\r\n            <span className=\"hidden sm:inline\"> α╕êα╕▓α╕ü </span>\r\n            <span className=\"sm:hidden\"> / </span>\r\n            <span className=\"font-medium text-slate-900\">{totalUsers}</span>\r\n            <span className=\"hidden sm:inline\"> α╕úα╕▓α╕óα╕üα╕▓α╕ú</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.max(1, p - 1))}\r\n              disabled={currentPage === 1 || isLoading}\r\n              className=\"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-40 transition-all text-slate-600\"\r\n            >\r\n              <ChevronLeft size={18} />\r\n            </button>\r\n            <div className=\"flex items-center gap-1\">\r\n               {/* Show fewer page buttons on mobile */}\r\n               {[...Array(Math.min(3, totalPages))].map((_, i) => {\r\n                  let pageNum = i + 1;\r\n                  if(totalPages > 3 && currentPage > 2) {\r\n                     pageNum = currentPage - 1 + i;\r\n                     if (pageNum > totalPages) pageNum = totalPages - (3 - i - 1);\r\n                  }\r\n                  \r\n                  return (\r\n                  <button\r\n                    key={i}\r\n                    onClick={() => setCurrentPage(pageNum)}\r\n                    className={`w-8 h-8 rounded-lg text-xs font-semibold transition-all sm:hidden ${\r\n                      currentPage === pageNum\r\n                        ? \"bg-indigo-600 text-white shadow-md shadow-indigo-200\"\r\n                        : \"text-slate-600 hover:bg-slate-100\"\r\n                    }`}\r\n                  >\r\n                    {pageNum}\r\n                  </button>\r\n                  )\r\n               })}\r\n               {/* Show more page buttons on desktop */}\r\n               {[...Array(Math.min(5, totalPages))].map((_, i) => {\r\n                  let pageNum = i + 1;\r\n                  if(totalPages > 5 && currentPage > 3) {\r\n                     pageNum = currentPage - 3 + i;\r\n                     if (pageNum > totalPages) pageNum = totalPages - (5 - i - 1);\r\n                  }\r\n                  \r\n                  return (\r\n                  <button\r\n                    key={i}\r\n                    onClick={() => setCurrentPage(pageNum)}\r\n                    className={`w-8 h-8 rounded-lg text-xs font-semibold transition-all hidden sm:block ${\r\n                      currentPage === pageNum\r\n                        ? \"bg-indigo-600 text-white shadow-md shadow-indigo-200\"\r\n                        : \"text-slate-600 hover:bg-slate-100\"\r\n                    }`}\r\n                  >\r\n                    {pageNum}\r\n                  </button>\r\n                  )\r\n               })}\r\n            </div>\r\n            <button\r\n              onClick={() => setCurrentPage((p) => Math.min(totalPages, p + 1))}\r\n              disabled={currentPage === totalPages || isLoading}\r\n              className=\"p-2 border border-slate-200 rounded-lg hover:bg-slate-50 disabled:opacity-40 transition-all text-slate-600\"\r\n            >\r\n              <ChevronRight size={18} />\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Modals */}\r\n        <UserModal\r\n          user={selectedUser}\r\n          isOpen={isModalOpen}\r\n          isViewOnly={isViewOnly}\r\n          onClose={() => {\r\n            setIsModalOpen(false);\r\n            setSelectedUser(null);\r\n          }}\r\n          onSave={handleSaveUser}\r\n        />\r\n\r\n        <ConfirmDialog\r\n          isOpen={!!deleteUser}\r\n          title=\"α╕óα╕╖α╕Öα╕óα╕▒α╕Öα╕üα╕▓α╕úα╕Ñα╕Üα╕¬α╕íα╕▓α╕èα╕┤α╕ü\"\r\n          message={`α╕äα╕╕α╕ôα╕òα╣ëα╕¡α╕çα╕üα╕▓α╕úα╕Ñα╕Üα╕£α╕╣α╣ëα╣âα╕èα╣ë \"${deleteUser?.name}\" α╣âα╕èα╣êα╕½α╕úα╕╖α╕¡α╣äα╕íα╣ê? α╕üα╕▓α╕úα╕üα╕úα╕░α╕ùα╕│α╕Öα╕╡α╣ëα╣äα╕íα╣êα╕¬α╕▓α╕íα╕▓α╕úα╕ûα╣Çα╕úα╕╡α╕óα╕üα╕äα╕╖α╕Öα╣äα╕öα╣ë`}\r\n          confirmText=\"α╕Ñα╕Üα╕¬α╕íα╕▓α╕èα╕┤α╕ü\"\r\n          isDanger\r\n          isLoading={isDeleting}\r\n          onConfirm={confirmDelete}\r\n          onCancel={() => setDeleteUser(null)}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]}]
