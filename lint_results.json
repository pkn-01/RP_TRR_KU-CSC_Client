[{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\analytics\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":59,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":59,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1332,1335],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1332,1335],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":62,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":62,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1472,1475],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1472,1475],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":72,"column":13,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":72,"endColumn":16,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1829,1832],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1829,1832],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":89,"column":19,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":89,"endColumn":22,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2288,2291],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2288,2291],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport {\r\n  BarChart3,\r\n  TrendingUp,\r\n  Clock,\r\n  CheckCircle,\r\n  Wrench,\r\n  Users,\r\n  Package,\r\n  Activity,\r\n  ArrowUp,\r\n  ArrowDown,\r\n  Loader2,\r\n} from \"lucide-react\";\r\nimport { apiFetch } from \"@/services/api\";\r\n\r\n// Types\r\ninterface AnalyticsData {\r\n  totalRepairs: number;\r\n  activeRepairs: number;\r\n  completedRepairs: number;\r\n  completionRate: number;\r\n  avgResolutionTime: number;\r\n  totalUsers: number;\r\n  totalLoans: number;\r\n  activeLoans: number;\r\n  trend: {\r\n    repairs: number; // percentage change\r\n    loans: number;\r\n  };\r\n}\r\n\r\nexport default function AnalyticsPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [analytics, setAnalytics] = useState<AnalyticsData | null>(null);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    fetchAnalytics();\r\n  }, []);\r\n\r\n  const fetchAnalytics = async () => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      // Fetch various data\r\n      const [repairs, users, loans] = await Promise.all([\r\n        apiFetch(\"/api/repairs\"),\r\n        apiFetch(\"/api/users\"),\r\n        apiFetch(\"/api/loans\"),\r\n      ]);\r\n\r\n      // Calculate analytics\r\n      const totalRepairs = repairs.length;\r\n      const activeRepairs = repairs.filter(\r\n        (r: any) => r.status === \"IN_PROGRESS\" || r.status === \"PENDING\",\r\n      ).length;\r\n      const completedRepairs = repairs.filter(\r\n        (r: any) => r.status === \"COMPLETED\",\r\n      ).length;\r\n      const completionRate =\r\n        totalRepairs > 0 ? (completedRepairs / totalRepairs) * 100 : 0;\r\n\r\n      // Calculate average resolution time (mock for now)\r\n      const avgResolutionTime = 24; // hours\r\n\r\n      const totalLoans = loans.length;\r\n      const activeLoans = loans.filter(\r\n        (l: any) => l.status === \"BORROWED\",\r\n      ).length;\r\n\r\n      setAnalytics({\r\n        totalRepairs,\r\n        activeRepairs,\r\n        completedRepairs,\r\n        completionRate,\r\n        avgResolutionTime,\r\n        totalUsers: users.length,\r\n        totalLoans,\r\n        activeLoans,\r\n        trend: {\r\n          repairs: 12.5, // Mock data - percentage increase\r\n          loans: -3.2, // Mock data - percentage decrease\r\n        },\r\n      });\r\n    } catch (err: any) {\r\n      console.error(\"Failed to fetch analytics:\", err);\r\n      setError(err.message || \"Failed to load analytics\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"flex flex-col items-center gap-3\">\r\n          <Loader2 size={40} className=\"animate-spin text-blue-500\" />\r\n          <p className=\"text-zinc-500\">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"flex items-center justify-center min-h-screen\">\r\n        <div className=\"text-center\">\r\n          <p className=\"text-red-500 mb-2\">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</p>\r\n          <p className=\"text-zinc-500 text-sm\">{error}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-zinc-200 sticky top-0 z-10\">\r\n        <div className=\"px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center gap-3\">\r\n            <div className=\"p-2 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg\">\r\n              <BarChart3 size={24} className=\"text-white\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-2xl font-bold text-zinc-900\">\r\n                Analytics Dashboard\r\n              </h1>\r\n              <p className=\"text-sm text-zinc-500\">\r\n                ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å‡πÅ‡∏•‡∏∞‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"px-6 lg:px-8 py-8\">\r\n        {/* KPI Cards Grid */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\r\n          <KPICard\r\n            title=\"‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\"\r\n            value={analytics?.totalRepairs ?? 0}\r\n            trend={analytics?.trend?.repairs}\r\n            icon={Wrench}\r\n            color=\"blue\"\r\n            subtext={`${analytics?.activeRepairs ?? 0} ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£`}\r\n          />\r\n\r\n          <KPICard\r\n            title=\"‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô\"\r\n            value={`${analytics?.completionRate?.toFixed(1) ?? 0}%`}\r\n            icon={CheckCircle}\r\n            color=\"green\"\r\n            subtext={`${analytics?.completedRepairs ?? 0} ‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå`}\r\n          />\r\n\r\n          <KPICard\r\n            title=\"‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏Å‡∏≤‡∏£‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç\"\r\n            value={`${analytics?.avgResolutionTime ?? 0}h`}\r\n            icon={Clock}\r\n            color=\"orange\"\r\n            subtext=\"‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡∏á‡∏≤‡∏ô\"\r\n          />\r\n\r\n          <KPICard\r\n            title=\"‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\"\r\n            value={analytics?.totalUsers ?? 0}\r\n            icon={Users}\r\n            color=\"purple\"\r\n            subtext=\"‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö\"\r\n          />\r\n        </div>\r\n\r\n        {/* Secondary Stats */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8\">\r\n          {/* Repairs Activity */}\r\n          <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-zinc-900\">\r\n                ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°\r\n              </h3>\r\n              <Activity size={20} className=\"text-blue-500\" />\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <StatRow\r\n                label=\"‡∏£‡∏≠‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£\"\r\n                value={\r\n                  (analytics?.totalRepairs ?? 0) -\r\n                  (analytics?.completedRepairs ?? 0)\r\n                }\r\n                total={analytics?.totalRepairs ?? 0}\r\n                color=\"bg-yellow-500\"\r\n              />\r\n              <StatRow\r\n                label=\"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£\"\r\n                value={analytics?.activeRepairs ?? 0}\r\n                total={analytics?.totalRepairs ?? 0}\r\n                color=\"bg-blue-500\"\r\n              />\r\n              <StatRow\r\n                label=\"‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå\"\r\n                value={analytics?.completedRepairs ?? 0}\r\n                total={analytics?.totalRepairs ?? 0}\r\n                color=\"bg-green-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Loans Activity */}\r\n          <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-6\">\r\n            <div className=\"flex items-center justify-between mb-4\">\r\n              <h3 className=\"text-lg font-semibold text-zinc-900\">\r\n                ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏¢‡∏∑‡∏°-‡∏Ñ‡∏∑‡∏ô‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå\r\n              </h3>\r\n              <Package size={20} className=\"text-indigo-500\" />\r\n            </div>\r\n\r\n            <div className=\"space-y-4\">\r\n              <StatRow\r\n                label=\"‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏¢‡∏∑‡∏°\"\r\n                value={analytics?.activeLoans ?? 0}\r\n                total={analytics?.totalLoans ?? 0}\r\n                color=\"bg-indigo-500\"\r\n              />\r\n              <StatRow\r\n                label=\"‡∏Ñ‡∏∑‡∏ô‡πÅ‡∏•‡πâ‡∏ß\"\r\n                value={\r\n                  (analytics?.totalLoans ?? 0) - (analytics?.activeLoans ?? 0)\r\n                }\r\n                total={analytics?.totalLoans ?? 0}\r\n                color=\"bg-green-500\"\r\n              />\r\n              <div className=\"pt-2 border-t border-zinc-100\">\r\n                <div className=\"flex justify-between items-center\">\r\n                  <span className=\"text-sm font-medium text-zinc-600\">\r\n                    ‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\r\n                  </span>\r\n                  <span className=\"text-lg font-bold text-zinc-900\">\r\n                    {analytics?.totalLoans ?? 0}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Info Card */}\r\n        <div className=\"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-xl p-6\">\r\n          <div className=\"flex items-start gap-4\">\r\n            <div className=\"p-2 bg-blue-500 rounded-lg\">\r\n              <TrendingUp size={20} className=\"text-white\" />\r\n            </div>\r\n            <div>\r\n              <h4 className=\"font-semibold text-blue-900 mb-1\">\r\n                üí° Analytics Insights\r\n              </h4>\r\n              <p className=\"text-sm text-blue-700\">\r\n                Dashboard ‡∏ô‡∏µ‡πâ‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡πÅ‡∏ö‡∏ö‡πÄ‡∏£‡∏µ‡∏¢‡∏•‡πÑ‡∏ó‡∏°‡πå‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö\r\n                ‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏´‡∏•‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏•‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á‡∏õ‡∏£‡∏∞‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡∏†‡∏≤‡∏û‡∏Å‡∏≤‡∏£‡∏ó‡∏≥‡∏á‡∏≤‡∏ô\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// KPI Card Component\r\ninterface KPICardProps {\r\n  title: string;\r\n  value: string | number;\r\n  trend?: number;\r\n  icon: React.ComponentType<{ size: number; className?: string }>;\r\n  color: \"blue\" | \"green\" | \"orange\" | \"purple\";\r\n  subtext?: string;\r\n}\r\n\r\nfunction KPICard({\r\n  title,\r\n  value,\r\n  trend,\r\n  icon: Icon,\r\n  color,\r\n  subtext,\r\n}: KPICardProps) {\r\n  const colorClasses = {\r\n    blue: \"from-blue-500 to-blue-600\",\r\n    green: \"from-green-500 to-green-600\",\r\n    orange: \"from-orange-500 to-orange-600\",\r\n    purple: \"from-purple-500 to-purple-600\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md hover:shadow-xl transition-all duration-300 border border-zinc-200 overflow-hidden group\">\r\n      {/* Gradient Header */}\r\n      <div className={`bg-gradient-to-r ${colorClasses[color]} p-4`}>\r\n        <div className=\"flex items-center justify-between\">\r\n          <Icon size={24} className=\"text-white opacity-90\" />\r\n          {trend !== undefined && (\r\n            <div\r\n              className={`flex items-center gap-1 text-xs font-medium px-2 py-1 rounded-full ${\r\n                trend >= 0 ? \"bg-white/20 text-white\" : \"bg-black/10 text-white\"\r\n              }`}\r\n            >\r\n              {trend >= 0 ? <ArrowUp size={12} /> : <ArrowDown size={12} />}\r\n              <span>{Math.abs(trend)}%</span>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Content */}\r\n      <div className=\"p-4\">\r\n        <p className=\"text-sm font-medium text-zinc-600 mb-1\">{title}</p>\r\n        <p className=\"text-3xl font-bold text-zinc-900 mb-1\">{value}</p>\r\n        {subtext && <p className=\"text-xs text-zinc-500\">{subtext}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Stat Row Component (for progress bars)\r\ninterface StatRowProps {\r\n  label: string;\r\n  value: number;\r\n  total: number;\r\n  color: string;\r\n}\r\n\r\nfunction StatRow({ label, value, total, color }: StatRowProps) {\r\n  const percentage = total > 0 ? (value / total) * 100 : 0;\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"flex justify-between items-center mb-2\">\r\n        <span className=\"text-sm font-medium text-zinc-700\">{label}</span>\r\n        <span className=\"text-sm font-bold text-zinc-900\">\r\n          {value} ({percentage.toFixed(0)}%)\r\n        </span>\r\n      </div>\r\n      <div className=\"w-full bg-zinc-100 rounded-full h-2 overflow-hidden\">\r\n        <div\r\n          className={`${color} h-full rounded-full transition-all duration-500`}\r\n          style={{ width: `${percentage}%` }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":19,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":19,"endColumn":7},{"ruleId":"@next/next/no-assign-module-variable","severity":2,"message":"Do not assign to the variable `module`. See: https://nextjs.org/docs/messages/no-assign-module-variable","line":77,"column":5,"nodeType":"VariableDeclaration","endLine":77,"endColumn":72},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":216,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":216,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7042,7045],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7042,7045],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":232,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":232,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[7807,7810],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[7807,7810],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":246,"column":66,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":246,"endColumn":69,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[8466,8469],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[8466,8469],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"react-hooks/static-components","severity":2,"message":"Error: Cannot create components during render\n\nComponents created during render will reset their state each time they are created. Declare components outside of render.\n\nC:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx:328:12\n  326 |         {/* Icon */}\n  327 |         <div className={`p-3 rounded-lg ${getActionColor(log.action)}`}>\n> 328 |           <Icon size={20} />\n      |            ^^^^ This component is created during render\n  329 |         </div>\n  330 |\n  331 |         {/* Content */}\n\nC:\\TRR Internship\\frontend\\src\\app\\admin\\audit-logs\\page.tsx:321:16\n  319 |   };\n  320 |\n> 321 |   const Icon = getActionIcon(log.action);\n      |                ^^^^^^^^^^^^^^^^^^^^^^^^^ The component is created during render here\n  322 |\n  323 |   return (\n  324 |     <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 hover:shadow-lg transition-all p-6\">","line":328,"column":12,"nodeType":null,"endLine":328,"endColumn":16}],"suppressedMessages":[],"errorCount":5,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useMemo } from \"react\";\r\nimport {\r\n  FileSearch,\r\n  Search,\r\n  Filter,\r\n  Download,\r\n  AlertCircle,\r\n  CheckCircle,\r\n  XCircle,\r\n  Edit,\r\n  Trash2,\r\n  UserPlus,\r\n  LogIn,\r\n  LogOut,\r\n  Settings,\r\n  Calendar,\r\n  User,\r\n  Shield,\r\n} from \"lucide-react\";\r\n\r\n// Types\r\ninterface AuditLog {\r\n  id: string;\r\n  userId: number;\r\n  userName: string;\r\n  userEmail: string;\r\n  action: ActionType;\r\n  module: ModuleType;\r\n  description: string;\r\n  ipAddress: string;\r\n  timestamp: Date;\r\n  status: \"SUCCESS\" | \"FAILED\" | \"WARNING\";\r\n}\r\n\r\ntype ActionType =\r\n  | \"CREATE\"\r\n  | \"UPDATE\"\r\n  | \"DELETE\"\r\n  | \"LOGIN\"\r\n  | \"LOGOUT\"\r\n  | \"VIEW\"\r\n  | \"EXPORT\";\r\ntype ModuleType = \"REPAIR\" | \"LOAN\" | \"USER\" | \"SETTINGS\" | \"SYSTEM\";\r\n\r\n// Mock data ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö demo\r\nconst generateMockLogs = (): AuditLog[] => {\r\n  const actions: ActionType[] = [\r\n    \"CREATE\",\r\n    \"UPDATE\",\r\n    \"DELETE\",\r\n    \"LOGIN\",\r\n    \"LOGOUT\",\r\n    \"VIEW\",\r\n    \"EXPORT\",\r\n  ];\r\n  const modules: ModuleType[] = [\r\n    \"REPAIR\",\r\n    \"LOAN\",\r\n    \"USER\",\r\n    \"SETTINGS\",\r\n    \"SYSTEM\",\r\n  ];\r\n  const users = [\r\n    { id: 1, name: \"Admin User\", email: \"admin@example.com\" },\r\n    { id: 2, name: \"IT Support\", email: \"it@example.com\" },\r\n    { id: 3, name: \"John Doe\", email: \"john@example.com\" },\r\n  ];\r\n\r\n  const logs: AuditLog[] = [];\r\n  const now = new Date();\r\n\r\n  for (let i = 0; i < 50; i++) {\r\n    const user = users[Math.floor(Math.random() * users.length)];\r\n    const action = actions[Math.floor(Math.random() * actions.length)];\r\n    const module = modules[Math.floor(Math.random() * modules.length)];\r\n    const hoursAgo = Math.floor(Math.random() * 48);\r\n\r\n    logs.push({\r\n      id: `log-${i + 1}`,\r\n      userId: user.id,\r\n      userName: user.name,\r\n      userEmail: user.email,\r\n      action,\r\n      module,\r\n      description: getDescription(action, module),\r\n      ipAddress: `192.168.1.${Math.floor(Math.random() * 255)}`,\r\n      timestamp: new Date(now.getTime() - hoursAgo * 60 * 60 * 1000),\r\n      status:\r\n        Math.random() > 0.9\r\n          ? \"FAILED\"\r\n          : Math.random() > 0.95\r\n            ? \"WARNING\"\r\n            : \"SUCCESS\",\r\n    });\r\n  }\r\n\r\n  return logs.sort((a, b) => b.timestamp.getTime() - a.timestamp.getTime());\r\n};\r\n\r\nconst getDescription = (action: ActionType, module: ModuleType): string => {\r\n  const descriptions: Record<string, string> = {\r\n    \"CREATE-REPAIR\": \"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°‡πÉ‡∏´‡∏°‡πà\",\r\n    \"UPDATE-REPAIR\": \"‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°\",\r\n    \"DELETE-REPAIR\": \"‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ã‡πà‡∏≠‡∏°\",\r\n    \"CREATE-LOAN\": \"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°‡πÉ‡∏´‡∏°‡πà\",\r\n    \"UPDATE-LOAN\": \"‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°\",\r\n    \"DELETE-LOAN\": \"‡∏•‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏¢‡∏∑‡∏°\",\r\n    \"CREATE-USER\": \"‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡πÉ‡∏´‡∏°‡πà\",\r\n    \"UPDATE-USER\": \"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ\",\r\n    \"DELETE-USER\": \"‡∏•‡∏ö‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ\",\r\n    \"LOGIN-SYSTEM\": \"‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö\",\r\n    \"LOGOUT-SYSTEM\": \"‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö\",\r\n    \"UPDATE-SETTINGS\": \"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏£‡∏∞‡∏ö‡∏ö\",\r\n    \"VIEW-REPAIR\": \"‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°\",\r\n    \"EXPORT-REPAIR\": \"Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏á‡∏≤‡∏ô‡∏ã‡πà‡∏≠‡∏°\",\r\n  };\r\n\r\n  return descriptions[`${action}-${module}`] || `${action} on ${module}`;\r\n};\r\n\r\nexport default function AuditLogsPage() {\r\n  const [logs] = useState<AuditLog[]>(generateMockLogs());\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [filterAction, setFilterAction] = useState<ActionType | \"ALL\">(\"ALL\");\r\n  const [filterModule, setFilterModule] = useState<ModuleType | \"ALL\">(\"ALL\");\r\n  const [filterStatus, setFilterStatus] = useState<\r\n    \"ALL\" | \"SUCCESS\" | \"FAILED\" | \"WARNING\"\r\n  >(\"ALL\");\r\n\r\n  // Filtered logs\r\n  const filteredLogs = useMemo(() => {\r\n    return logs.filter((log) => {\r\n      const matchesSearch =\r\n        searchTerm === \"\" ||\r\n        log.userName.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.userEmail.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.description.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        log.ipAddress.includes(searchTerm);\r\n\r\n      const matchesAction =\r\n        filterAction === \"ALL\" || log.action === filterAction;\r\n      const matchesModule =\r\n        filterModule === \"ALL\" || log.module === filterModule;\r\n      const matchesStatus =\r\n        filterStatus === \"ALL\" || log.status === filterStatus;\r\n\r\n      return matchesSearch && matchesAction && matchesModule && matchesStatus;\r\n    });\r\n  }, [logs, searchTerm, filterAction, filterModule, filterStatus]);\r\n\r\n  const handleExport = () => {\r\n    // Mock export function\r\n    alert(\"Export functionality - ‡∏à‡∏∞ export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Audit Logs ‡πÄ‡∏õ‡πá‡∏ô CSV\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-zinc-200 sticky top-0 z-10\">\r\n        <div className=\"px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-gradient-to-br from-indigo-500 to-indigo-600 rounded-lg\">\r\n                <FileSearch size={24} className=\"text-white\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-zinc-900\">Audit Logs</h1>\r\n                <p className=\"text-sm text-zinc-500\">\r\n                  ‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏°‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleExport}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors\"\r\n            >\r\n              <Download size={18} />\r\n              <span className=\"hidden sm:inline\">Export CSV</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"px-6 lg:px-8 py-8\">\r\n        {/* Search and Filters */}\r\n        <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-6 mb-6\">\r\n          {/* Search Bar */}\r\n          <div className=\"mb-4\">\r\n            <div className=\"relative\">\r\n              <Search\r\n                size={20}\r\n                className=\"absolute left-3 top-1/2 -translate-y-1/2 text-zinc-400\"\r\n              />\r\n              <input\r\n                type=\"text\"\r\n                placeholder=\"‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ, ‡∏≠‡∏µ‡πÄ‡∏°‡∏•, ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ ‡∏´‡∏£‡∏∑‡∏≠ IP address...\"\r\n                value={searchTerm}\r\n                onChange={(e) => setSearchTerm(e.target.value)}\r\n                className=\"w-full pl-10 pr-4 py-3 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500\"\r\n              />\r\n            </div>\r\n          </div>\r\n\r\n          {/* Filters */}\r\n          <div className=\"flex items-center gap-2 mb-2\">\r\n            <Filter size={16} className=\"text-zinc-500\" />\r\n            <span className=\"text-sm font-medium text-zinc-700\">Filters:</span>\r\n          </div>\r\n          <div className=\"grid grid-cols-1 sm:grid-cols-3 gap-3\">\r\n            {/* Action Filter */}\r\n            <select\r\n              value={filterAction}\r\n              onChange={(e) => setFilterAction(e.target.value as any)}\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Actions</option>\r\n              <option value=\"CREATE\">Create</option>\r\n              <option value=\"UPDATE\">Update</option>\r\n              <option value=\"DELETE\">Delete</option>\r\n              <option value=\"LOGIN\">Login</option>\r\n              <option value=\"LOGOUT\">Logout</option>\r\n              <option value=\"VIEW\">View</option>\r\n              <option value=\"EXPORT\">Export</option>\r\n            </select>\r\n\r\n            {/* Module Filter */}\r\n            <select\r\n              value={filterModule}\r\n              onChange={(e) => setFilterModule(e.target.value as any)}\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Modules</option>\r\n              <option value=\"REPAIR\">Repair</option>\r\n              <option value=\"LOAN\">Loan</option>\r\n              <option value=\"USER\">User</option>\r\n              <option value=\"SETTINGS\">Settings</option>\r\n              <option value=\"SYSTEM\">System</option>\r\n            </select>\r\n\r\n            {/* Status Filter */}\r\n            <select\r\n              value={filterStatus}\r\n              onChange={(e) => setFilterStatus(e.target.value as any)}\r\n              className=\"px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-500 text-sm\"\r\n            >\r\n              <option value=\"ALL\">All Status</option>\r\n              <option value=\"SUCCESS\">Success</option>\r\n              <option value=\"FAILED\">Failed</option>\r\n              <option value=\"WARNING\">Warning</option>\r\n            </select>\r\n          </div>\r\n\r\n          {/* Results count */}\r\n          <div className=\"mt-4 text-sm text-zinc-600\">\r\n            ‡πÅ‡∏™‡∏î‡∏á <span className=\"font-semibold\">{filteredLogs.length}</span>{\" \"}\r\n            ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£\r\n            {searchTerm ||\r\n            filterAction !== \"ALL\" ||\r\n            filterModule !== \"ALL\" ||\r\n            filterStatus !== \"ALL\"\r\n              ? ` ‡∏à‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ${logs.length} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£`\r\n              : \"\"}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Timeline */}\r\n        <div className=\"space-y-4\">\r\n          {filteredLogs.length === 0 ? (\r\n            <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 p-12 text-center\">\r\n              <AlertCircle size={48} className=\"text-zinc-300 mx-auto mb-4\" />\r\n              <p className=\"text-zinc-500\">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</p>\r\n            </div>\r\n          ) : (\r\n            filteredLogs.map((log) => <LogEntry key={log.id} log={log} />)\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Log Entry Component\r\nfunction LogEntry({ log }: { log: AuditLog }) {\r\n  const getActionIcon = (action: ActionType) => {\r\n    const icons = {\r\n      CREATE: UserPlus,\r\n      UPDATE: Edit,\r\n      DELETE: Trash2,\r\n      LOGIN: LogIn,\r\n      LOGOUT: LogOut,\r\n      VIEW: FileSearch,\r\n      EXPORT: Download,\r\n    };\r\n    return icons[action] || Settings;\r\n  };\r\n\r\n  const getActionColor = (action: ActionType) => {\r\n    const colors = {\r\n      CREATE: \"text-green-600 bg-green-50\",\r\n      UPDATE: \"text-blue-600 bg-blue-50\",\r\n      DELETE: \"text-red-600 bg-red-50\",\r\n      LOGIN: \"text-indigo-600 bg-indigo-50\",\r\n      LOGOUT: \"text-zinc-600 bg-zinc-50\",\r\n      VIEW: \"text-purple-600 bg-purple-50\",\r\n      EXPORT: \"text-orange-600 bg-orange-50\",\r\n    };\r\n    return colors[action] || \"text-zinc-600 bg-zinc-50\";\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    if (status === \"SUCCESS\")\r\n      return <CheckCircle size={16} className=\"text-green-500\" />;\r\n    if (status === \"FAILED\")\r\n      return <XCircle size={16} className=\"text-red-500\" />;\r\n    return <AlertCircle size={16} className=\"text-yellow-500\" />;\r\n  };\r\n\r\n  const Icon = getActionIcon(log.action);\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 hover:shadow-lg transition-all p-6\">\r\n      <div className=\"flex items-start gap-4\">\r\n        {/* Icon */}\r\n        <div className={`p-3 rounded-lg ${getActionColor(log.action)}`}>\r\n          <Icon size={20} />\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"flex-1 min-w-0\">\r\n          <div className=\"flex items-start justify-between gap-4 mb-2\">\r\n            <div>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <span className=\"font-semibold text-zinc-900\">\r\n                  {log.userName}\r\n                </span>\r\n                <span className=\"text-sm text-zinc-400\">‚Ä¢</span>\r\n                <span className=\"text-sm text-zinc-500\">{log.userEmail}</span>\r\n              </div>\r\n              <p className=\"text-zinc-700\">{log.description}</p>\r\n            </div>\r\n            {getStatusIcon(log.status)}\r\n          </div>\r\n\r\n          {/* Metadata */}\r\n          <div className=\"flex flex-wrap items-center gap-4 text-sm text-zinc-500\">\r\n            <div className=\"flex items-center gap-1\">\r\n              <Calendar size={14} />\r\n              <span>{log.timestamp.toLocaleString(\"th-TH\")}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-1\">\r\n              <Shield size={14} />\r\n              <span>IP: {log.ipAddress}</span>\r\n            </div>\r\n            <div className=\"flex items-center gap-2\">\r\n              <span className=\"px-2 py-0.5 bg-zinc-100 rounded text-xs font-medium\">\r\n                {log.module}\r\n              </span>\r\n              <span className=\"px-2 py-0.5 bg-zinc-100 rounded text-xs font-medium\">\r\n                {log.action}\r\n              </span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\TRR Internship\\frontend\\src\\app\\admin\\departments\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Loader2' is defined but never used.","line":15,"column":3,"nodeType":null,"messageId":"unusedVar","endLine":15,"endColumn":10}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport {\r\n  Building2,\r\n  Plus,\r\n  Edit2,\r\n  Trash2,\r\n  Users,\r\n  Mail,\r\n  Phone,\r\n  MapPin,\r\n  X,\r\n  Save,\r\n  Loader2,\r\n} from \"lucide-react\";\r\n\r\n// Types\r\ninterface Department {\r\n  id: number;\r\n  name: string;\r\n  code: string;\r\n  description?: string;\r\n  location?: string;\r\n  contactEmail?: string;\r\n  contactPhone?: string;\r\n  memberCount: number;\r\n  headName?: string;\r\n}\r\n\r\n// Mock data\r\nconst mockDepartments: Department[] = [\r\n  {\r\n    id: 1,\r\n    name: \"IT Support\",\r\n    code: \"IT\",\r\n    description: \"‡∏ù‡πà‡∏≤‡∏¢‡∏™‡∏ô‡∏±‡∏ö‡∏™‡∏ô‡∏∏‡∏ô‡πÄ‡∏ó‡∏Ñ‡πÇ‡∏ô‡πÇ‡∏•‡∏¢‡∏µ‡∏™‡∏≤‡∏£‡∏™‡∏ô‡πÄ‡∏ó‡∏®\",\r\n    location: \"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A ‡∏ä‡∏±‡πâ‡∏ô 3\",\r\n    contactEmail: \"it@example.com\",\r\n    contactPhone: \"02-123-4567\",\r\n    memberCount: 12,\r\n    headName: \"‡∏ô‡∏≤‡∏¢ ‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ\",\r\n  },\r\n  {\r\n    id: 2,\r\n    name: \"Human Resources\",\r\n    code: \"HR\",\r\n    description: \"‡∏ù‡πà‡∏≤‡∏¢‡∏ó‡∏£‡∏±‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•\",\r\n    location: \"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B ‡∏ä‡∏±‡πâ‡∏ô 2\",\r\n    contactEmail: \"hr@example.com\",\r\n    contactPhone: \"02-123-4568\",\r\n    memberCount: 8,\r\n    headName: \"‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß ‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏£‡∏±‡∏Å‡∏á‡∏≤‡∏ô\",\r\n  },\r\n  {\r\n    id: 3,\r\n    name: \"Finance\",\r\n    code: \"FIN\",\r\n    description: \"‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô\",\r\n    location: \"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ B ‡∏ä‡∏±‡πâ‡∏ô 1\",\r\n    contactEmail: \"finance@example.com\",\r\n    contactPhone: \"02-123-4569\",\r\n    memberCount: 10,\r\n    headName: \"‡∏ô‡∏≤‡∏¢ ‡∏™‡∏°‡∏®‡∏±‡∏Å‡∏î‡∏¥‡πå ‡∏Ñ‡∏¥‡∏î‡πÄ‡∏á‡∏¥‡∏ô\",\r\n  },\r\n  {\r\n    id: 4,\r\n    name: \"Marketing\",\r\n    code: \"MKT\",\r\n    description: \"‡∏ù‡πà‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ï‡∏•‡∏≤‡∏î\",\r\n    location: \"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ C ‡∏ä‡∏±‡πâ‡∏ô 4\",\r\n    contactEmail: \"marketing@example.com\",\r\n    contactPhone: \"02-123-4570\",\r\n    memberCount: 15,\r\n    headName: \"‡∏ô‡∏≤‡∏á‡∏™‡∏≤‡∏ß ‡∏™‡∏°‡∏à‡∏¥‡∏ï‡∏ï‡πå ‡∏Ç‡∏≤‡∏¢‡∏î‡∏µ\",\r\n  },\r\n  {\r\n    id: 5,\r\n    name: \"Engineering\",\r\n    code: \"ENG\",\r\n    description: \"‡∏ù‡πà‡∏≤‡∏¢‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°\",\r\n    location: \"‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ D ‡∏ä‡∏±‡πâ‡∏ô 1-3\",\r\n    contactEmail: \"engineering@example.com\",\r\n    contactPhone: \"02-123-4571\",\r\n    memberCount: 25,\r\n    headName: \"‡∏ô‡∏≤‡∏¢ ‡∏™‡∏°‡∏û‡∏á‡∏©‡πå ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏™‡∏£‡∏£‡∏Ñ‡πå\",\r\n  },\r\n];\r\n\r\nexport default function DepartmentsPage() {\r\n  const [departments, setDepartments] = useState<Department[]>(mockDepartments);\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const [editingDept, setEditingDept] = useState<Department | null>(null);\r\n  const [formData, setFormData] = useState<Partial<Department>>({});\r\n\r\n  const handleAdd = () => {\r\n    setEditingDept(null);\r\n    setFormData({});\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleEdit = (dept: Department) => {\r\n    setEditingDept(dept);\r\n    setFormData(dept);\r\n    setIsModalOpen(true);\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    if (confirm(\"‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏ö‡πÅ‡∏ú‡∏ô‡∏Å‡∏ô‡∏µ‡πâ?\")) {\r\n      setDepartments(departments.filter((d: Department) => d.id !== id));\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    if (!formData.name || !formData.code) {\r\n      alert(\"‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏Å‡πÅ‡∏•‡∏∞‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ú‡∏ô‡∏Å\");\r\n      return;\r\n    }\r\n\r\n    if (editingDept) {\r\n      // Update\r\n      setDepartments(\r\n        departments.map((d: Department) =>\r\n          d.id === editingDept.id ? ({ ...d, ...formData } as Department) : d,\r\n        ),\r\n      );\r\n    } else {\r\n      // Create\r\n      const newDept: Department = {\r\n        id:\r\n          departments.length > 0\r\n            ? Math.max(...departments.map((d: Department) => d.id)) + 1\r\n            : 1,\r\n        name: formData.name!,\r\n        code: formData.code!,\r\n        description: formData.description,\r\n        location: formData.location,\r\n        contactEmail: formData.contactEmail,\r\n        contactPhone: formData.contactPhone,\r\n        memberCount: 0,\r\n        headName: formData.headName,\r\n      };\r\n      setDepartments([...departments, newDept]);\r\n    }\r\n\r\n    setIsModalOpen(false);\r\n    setFormData({});\r\n  };\r\n\r\n  const totalMembers = departments.reduce(\r\n    (sum: number, d: Department) => sum + d.memberCount,\r\n    0,\r\n  );\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100\">\r\n      {/* Header */}\r\n      <div className=\"bg-white border-b border-zinc-200 sticky top-0 z-10\">\r\n        <div className=\"px-6 lg:px-8 py-6\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-3\">\r\n              <div className=\"p-2 bg-gradient-to-br from-cyan-500 to-cyan-600 rounded-lg\">\r\n                <Building2 size={24} className=\"text-white\" />\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold text-zinc-900\">\r\n                  Department Management\r\n                </h1>\r\n                <p className=\"text-sm text-zinc-500\">\r\n                  ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ú‡∏ô‡∏Å‡πÅ‡∏•‡∏∞‡∏´‡∏ô‡πà‡∏ß‡∏¢‡∏á‡∏≤‡∏ô‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏≠‡∏á‡∏Ñ‡πå‡∏Å‡∏£\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <button\r\n              onClick={handleAdd}\r\n              className=\"flex items-center gap-2 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors\"\r\n            >\r\n              <Plus size={18} />\r\n              <span className=\"hidden sm:inline\">‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏Å</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Main Content */}\r\n      <div className=\"px-6 lg:px-8 py-8\">\r\n        {/* Stats */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\r\n          <StatCard\r\n            title=\"‡πÅ‡∏ú‡∏ô‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\"\r\n            value={departments.length}\r\n            icon={Building2}\r\n            color=\"cyan\"\r\n          />\r\n          <StatCard\r\n            title=\"‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î\"\r\n            value={totalMembers}\r\n            icon={Users}\r\n            color=\"blue\"\r\n          />\r\n          <StatCard\r\n            title=\"‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏Å\"\r\n            value={Math.round(totalMembers / departments.length)}\r\n            icon={Users}\r\n            color=\"indigo\"\r\n          />\r\n        </div>\r\n\r\n        {/* Departments Grid */}\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {departments.map((dept: Department) => (\r\n            <DepartmentCard\r\n              key={dept.id}\r\n              department={dept}\r\n              onEdit={handleEdit}\r\n              onDelete={handleDelete}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modal */}\r\n      {isModalOpen && (\r\n        <DepartmentModal\r\n          isEdit={!!editingDept}\r\n          formData={formData}\r\n          onClose={() => setIsModalOpen(false)}\r\n          onChange={setFormData}\r\n          onSave={handleSave}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\n// Department Card Component\r\ninterface DepartmentCardProps {\r\n  department: Department;\r\n  onEdit: (dept: Department) => void;\r\n  onDelete: (id: number) => void;\r\n}\r\n\r\nfunction DepartmentCard({ department, onEdit, onDelete }: DepartmentCardProps) {\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md hover:shadow-xl transition-all border border-zinc-200 p-6\">\r\n      <div className=\"flex items-start justify-between mb-4\">\r\n        <div>\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <h3 className=\"text-lg font-bold text-zinc-900\">\r\n              {department.name}\r\n            </h3>\r\n            <span className=\"px-2 py-0.5 bg-cyan-100 text-cyan-700 text-xs font-medium rounded\">\r\n              {department.code}\r\n            </span>\r\n          </div>\r\n          {department.description && (\r\n            <p className=\"text-sm text-zinc-600\">{department.description}</p>\r\n          )}\r\n        </div>\r\n        <div className=\"flex gap-2\">\r\n          <button\r\n            onClick={() => onEdit(department)}\r\n            className=\"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors\"\r\n          >\r\n            <Edit2 size={16} />\r\n          </button>\r\n          <button\r\n            onClick={() => onDelete(department.id)}\r\n            className=\"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors\"\r\n          >\r\n            <Trash2 size={16} />\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"space-y-2 text-sm\">\r\n        {department.headName && (\r\n          <div className=\"flex items-center gap-2 text-zinc-700\">\r\n            <Users size={14} className=\"text-zinc-400\" />\r\n            <span>‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤: {department.headName}</span>\r\n          </div>\r\n        )}\r\n        {department.location && (\r\n          <div className=\"flex items-center gap-2 text-zinc-700\">\r\n            <MapPin size={14} className=\"text-zinc-400\" />\r\n            <span>{department.location}</span>\r\n          </div>\r\n        )}\r\n        {department.contactEmail && (\r\n          <div className=\"flex items-center gap-2 text-zinc-700\">\r\n            <Mail size={14} className=\"text-zinc-400\" />\r\n            <span>{department.contactEmail}</span>\r\n          </div>\r\n        )}\r\n        {department.contactPhone && (\r\n          <div className=\"flex items-center gap-2 text-zinc-700\">\r\n            <Phone size={14} className=\"text-zinc-400\" />\r\n            <span>{department.contactPhone}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"mt-4 pt-4 border-t border-zinc-100\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <span className=\"text-sm text-zinc-600\">‡∏û‡∏ô‡∏±‡∏Å‡∏á‡∏≤‡∏ô</span>\r\n          <span className=\"text-lg font-bold text-zinc-900\">\r\n            {department.memberCount} ‡∏Ñ‡∏ô\r\n          </span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Stat Card Component\r\ninterface StatCardProps {\r\n  title: string;\r\n  value: number;\r\n  icon: React.ComponentType<{ size: number; className?: string }>;\r\n  color: \"cyan\" | \"blue\" | \"indigo\";\r\n}\r\n\r\nfunction StatCard({ title, value, icon: Icon, color }: StatCardProps) {\r\n  const colors = {\r\n    cyan: \"from-cyan-500 to-cyan-600\",\r\n    blue: \"from-blue-500 to-blue-600\",\r\n    indigo: \"from-indigo-500 to-indigo-600\",\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-xl shadow-md border border-zinc-200 overflow-hidden\">\r\n      <div className={`bg-gradient-to-r ${colors[color]} p-4`}>\r\n        <Icon size={24} className=\"text-white opacity-90\" />\r\n      </div>\r\n      <div className=\"p-4\">\r\n        <p className=\"text-sm font-medium text-zinc-600 mb-1\">{title}</p>\r\n        <p className=\"text-3xl font-bold text-zinc-900\">{value}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Modal Component\r\ninterface DepartmentModalProps {\r\n  isEdit: boolean;\r\n  formData: Partial<Department>;\r\n  onClose: () => void;\r\n  onChange: (data: Partial<Department>) => void;\r\n  onSave: () => void;\r\n}\r\n\r\nfunction DepartmentModal({\r\n  isEdit,\r\n  formData,\r\n  onClose,\r\n  onChange,\r\n  onSave,\r\n}: DepartmentModalProps) {\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4\">\r\n      <div className=\"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\r\n        {/* Header */}\r\n        <div className=\"sticky top-0 bg-white border-b border-zinc-200 px-6 py-4 flex items-center justify-between\">\r\n          <h2 className=\"text-xl font-bold text-zinc-900\">\r\n            {isEdit ? \"‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏ú‡∏ô‡∏Å\" : \"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏Å‡πÉ‡∏´‡∏°‡πà\"}\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"p-2 hover:bg-zinc-100 rounded-lg transition-colors\"\r\n          >\r\n            <X size={20} />\r\n          </button>\r\n        </div>\r\n\r\n        {/* Form */}\r\n        <div className=\"p-6 space-y-4\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <FormInput\r\n              label=\"‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏ú‡∏ô‡∏Å *\"\r\n              value={formData.name || \"\"}\r\n              onChange={(value) => onChange({ ...formData, name: value })}\r\n              placeholder=\"‡πÄ‡∏ä‡πà‡∏ô IT Support\"\r\n            />\r\n            <FormInput\r\n              label=\"‡∏£‡∏´‡∏±‡∏™‡πÅ‡∏ú‡∏ô‡∏Å *\"\r\n              value={formData.code || \"\"}\r\n              onChange={(value) => onChange({ ...formData, code: value })}\r\n              placeholder=\"‡πÄ‡∏ä‡πà‡∏ô IT\"\r\n            />\r\n          </div>\r\n\r\n          <FormTextarea\r\n            label=\"‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢\"\r\n            value={formData.description || \"\"}\r\n            onChange={(value) => onChange({ ...formData, description: value })}\r\n            placeholder=\"‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏ö‡∏ú‡∏¥‡∏î‡∏ä‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÅ‡∏ú‡∏ô‡∏Å\"\r\n          />\r\n\r\n          <FormInput\r\n            label=\"‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å\"\r\n            value={formData.headName || \"\"}\r\n            onChange={(value) => onChange({ ...formData, headName: value })}\r\n            placeholder=\"‡∏ä‡∏∑‡πà‡∏≠‡∏´‡∏±‡∏ß‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏ú‡∏ô‡∏Å\"\r\n          />\r\n\r\n          <FormInput\r\n            label=\"‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á\"\r\n            value={formData.location || \"\"}\r\n            onChange={(value) => onChange({ ...formData, location: value })}\r\n            placeholder=\"‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ A ‡∏ä‡∏±‡πâ‡∏ô 3\"\r\n          />\r\n\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <FormInput\r\n              label=\"‡∏≠‡∏µ‡πÄ‡∏°‡∏•\"\r\n              value={formData.contactEmail || \"\"}\r\n              onChange={(value) =>\r\n                onChange({ ...formData, contactEmail: value })\r\n              }\r\n              placeholder=\"department@example.com\"\r\n              type=\"email\"\r\n            />\r\n            <FormInput\r\n              label=\"‡πÄ‡∏ö‡∏≠‡∏£‡πå‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå\"\r\n              value={formData.contactPhone || \"\"}\r\n              onChange={(value) =>\r\n                onChange({ ...formData, contactPhone: value })\r\n              }\r\n              placeholder=\"02-XXX-XXXX\"\r\n              type=\"tel\"\r\n            />\r\n          </div>\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div className=\"sticky bottom-0 bg-zinc-50 border-t border-zinc-200 px-6 py-4 flex justify-end gap-3\">\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 border border-zinc-300 text-zinc-700 rounded-lg hover:bg-zinc-100 transition-colors\"\r\n          >\r\n            ‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å\r\n          </button>\r\n          <button\r\n            onClick={onSave}\r\n            className=\"flex items-center gap-2 px-4 py-2 bg-cyan-600 text-white rounded-lg hover:bg-cyan-700 transition-colors\"\r\n          >\r\n            <Save size={18} />\r\n            <span>{isEdit ? \"‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å\" : \"‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ú‡∏ô‡∏Å\"}</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Form Components\r\nfunction FormInput({\r\n  label,\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n  type = \"text\",\r\n}: {\r\n  label: string;\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n  type?: string;\r\n}) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-medium text-zinc-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <input\r\n        type={type}\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        className=\"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FormTextarea({\r\n  label,\r\n  value,\r\n  onChange,\r\n  placeholder,\r\n}: {\r\n  label: string;\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n}) {\r\n  return (\r\n    <div>\r\n      <label className=\"block text-sm font-medium text-zinc-700 mb-1\">\r\n        {label}\r\n      </label>\r\n      <textarea\r\n        value={value}\r\n        onChange={(e) => onChange(e.target.value)}\r\n        placeholder={placeholder}\r\n        rows={3}\r\n        className=\"w-full px-3 py-2 border border-zinc-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 resize-none\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]}]